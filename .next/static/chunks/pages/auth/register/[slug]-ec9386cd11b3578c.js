(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8302],{57785:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register/[slug]",function(){return i(69619)}])},69619:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return D}});var r=i(85893),l=i(30633),a=i(26107),n=i(67294),s=i(21425);i(71953);var o=i(38308),c=i(79582),d=i(76487),u=i(22065),p=i(50594),x=i(87357),h=i(69417),m=i(56815),v=i(11994),_=i(86886),f=i(51233),g=i(15861),j=i(66242),b=i(44267),y=i(93946),Z=e=>{let{formik:t}=e,[i,l]=n.useState(!1),a=()=>{l(!1),t.setFieldValue("profile_img",""),t.setFieldValue("licence_front",""),t.setFieldValue("licence_back",""),t.setFieldValue("address_proof",""),t.setFieldValue("insurance_cert",""),t.setFieldValue("transit_cert",""),t.setFieldValue("liability_cert",""),t.setFieldValue("vehicle_cert",""),t.setFieldValue("v5c_cert",""),t.setFieldValue("dvia_cert",""),t.setFieldValue("nationality_cert",""),t.setFieldValue("profile_img_url",""),t.setFieldValue("licence_front_url",""),t.setFieldValue("licence_back_url",""),t.setFieldValue("address_proof_url",""),t.setFieldValue("insurance_cert_url",""),t.setFieldValue("transit_cert_url",""),t.setFieldValue("liability_cert_url",""),t.setFieldValue("vehicle_cert_url",""),t.setFieldValue("v5c_cert_url",""),t.setFieldValue("dvia_cert_url",""),t.setFieldValue("nationality_cert_url","")};return(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(h.Z,{color:t.touched.document&&t.errors.document?"error":"secondary",fullWidth:!0,variant:"outlined",startIcon:(0,r.jsx)(c.Z,{icon:"flat-color-icons:gallery"}),onClick:()=>l(!0),sx:{fontWeight:500},children:"Add Documents"}),t.touched.document&&t.errors.document&&(0,r.jsx)(m.Z,{error:t.errors.document,children:"Document is required"}),(0,r.jsx)(v.Z,{open:i,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(x.Z,{sx:{position:"relative",top:"50%",left:"50%",width:"70%",maxHeight:"70vh",height:"auto",overflowY:"scroll",textAlign:"center",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"1px solid #f5f5f5",borderRadius:"10px",boxShadow:24,p:2},children:[(0,r.jsxs)(_.ZP,{container:!0,spacing:4,children:[(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Driver Photo"}),!t.values.profile_img&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"profile_img",onChange:e=>{t.setFieldValue("profile_img",e.target.files[0]),t.setFieldValue("profile_img_url",URL.createObjectURL(e.target.files[0]))}}),t.values.profile_img_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("profile_img",""),t.setFieldValue("profile_img_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.profile_img.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.profile_img_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.profile_img_url,alt:t.values.profile_img.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Driver Licence Front"}),!t.values.licence_front&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"licence_front",onChange:e=>{t.setFieldValue("licence_front",e.target.files[0]),t.setFieldValue("licence_front_url",URL.createObjectURL(e.target.files[0]))}}),t.values.licence_front_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("licence_front",""),t.setFieldValue("licence_front_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.licence_front.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.licence_front_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.licence_front_url,alt:t.values.licence_front.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Driver Licence Back"}),!t.values.licence_back&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"licence_back",onChange:e=>{t.setFieldValue("licence_back",e.target.files[0]),t.setFieldValue("licence_back_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.licence_back&&t.errors.licence_back}),t.values.licence_back_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("licence_back",""),t.setFieldValue("licence_back_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.licence_back.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.licence_back_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.licence_back_url,alt:t.values.licence_back.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Address Proof"}),!t.values.address_proof&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"address_proof",onChange:e=>{t.setFieldValue("address_proof",e.target.files[0]),t.setFieldValue("address_proof_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.address_proof&&t.errors.address_proof}),t.values.address_proof_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("address_proof",""),t.setFieldValue("address_proof_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.address_proof.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.address_proof_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.address_proof_url,alt:t.values.address_proof.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Insurance Certificate"}),!t.values.insurance_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"insurance_cert",onChange:e=>{t.setFieldValue("insurance_cert",e.target.files[0]),t.setFieldValue("insurance_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.insurance_cert&&t.errors.insurance_cert}),t.values.insurance_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("insurance_cert",""),t.setFieldValue("insurance_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.insurance_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.insurance_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.insurance_cert_url,alt:t.values.insurance_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Good in Transit Certificate"}),!t.values.transit_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"transit_cert",onChange:e=>{t.setFieldValue("transit_cert",e.target.files[0]),t.setFieldValue("transit_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.transit_cert&&t.errors.transit_cert}),t.values.transit_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("transit_cert",""),t.setFieldValue("transit_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.transit_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.transit_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.transit_cert_url,alt:t.values.transit_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})})," ",(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Good in Liability Certificate"}),!t.values.liability_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"liability_cert",onChange:e=>{t.setFieldValue("liability_cert",e.target.files[0]),t.setFieldValue("liability_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.liability_cert&&t.errors.liability_cert}),t.values.liability_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("liability_cert",""),t.setFieldValue("liability_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.liability_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.liability_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.liability_cert_url,alt:t.values.liability_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})})," ",(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"V5c Certificate"}),!t.values.v5c_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"v5c_cert",onChange:e=>{t.setFieldValue("v5c_cert",e.target.files[0]),t.setFieldValue("v5c_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.v5c_cert&&t.errors.v5c_cert}),t.values.v5c_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("v5c_cert",""),t.setFieldValue("v5c_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.v5c_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.v5c_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.v5c_cert_url,alt:t.values.v5c_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Dvla license check code"}),!t.values.dvia_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"dvia_cert",onChange:e=>{t.setFieldValue("dvia_cert",e.target.files[0]),t.setFieldValue("dvia_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.dvia_cert&&t.errors.dvia_cert}),t.values.dvia_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("dvia_cert",""),t.setFieldValue("dvia_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.dvia_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.dvia_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.dvia_cert_url,alt:t.values.dvia_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})}),(0,r.jsx)(_.ZP,{item:!0,md:4,children:(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Nationality Proof Certificate"}),!t.values.nationality_cert&&(0,r.jsx)(o.zC,{fullWidth:!0,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}},type:"file",size:"small",value:"",name:"nationality_cert",onChange:e=>{t.setFieldValue("nationality_cert",e.target.files[0]),t.setFieldValue("nationality_cert_url",URL.createObjectURL(e.target.files[0]))},helperText:t.touched.nationality_cert&&t.errors.nationality_cert}),t.values.nationality_cert_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsxs)(b.Z,{sx:{pb:"10px !important",pt:"30px !important",px:"10px !important"},children:[(0,r.jsx)(x.Z,{sx:{position:"absolute",top:5,right:6},children:(0,r.jsx)(j.Z,{sx:{borderRadius:"50%"},children:(0,r.jsx)(y.Z,{size:"small",onClick:()=>{t.setFieldValue("nationality_cert",""),t.setFieldValue("nationality_cert_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})})})}),(0,r.jsx)(x.Z,{style:{margin:"10px"},width:"150px",height:"150px",thumbnail:!0,children:t.values.nationality_cert.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:t.values.nationality_cert_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:t.values.nationality_cert_url,alt:t.values.nationality_cert.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})]})})]}),(0,r.jsxs)(f.Z,{alignItems:"end",justifyContent:"flex-end",direction:"row",spacing:1,children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{variant:"outlined",onClick:()=>{l(!1),t.values.profile_img&&t.values.licence_front&&t.values.licence_back&&t.values.address_proof&&t.values.insurance_cert&&t.values.transit_cert&&t.values.liability_cert&&t.values.vehicle_cert&&t.values.v5c_cert&&t.values.dvia_cert&&t.values.nationality_cert&&(t.setFieldTouched("document",!1),t.setFieldError("document",""))},children:"Done"})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{color:"dark",variant:"outlined",onClick:a,children:"Cancel"})})]})]})})]})},w=i(54776),C=i(46574),F=i(50480),V=i(30465),z=i(98456),k=i(94054),S=i(69368),W=i(64666),A=i(6514),L=i(67720),B=i(31425),R=i(11163),T=i(63763),I=i(33987),P=i(28482),M=i(46901),O=i(50841);let U=n.forwardRef(function(e,t){return(0,r.jsx)(w.Z,{direction:"down",ref:t,...e})});var E=e=>{var t,i,l,a;let{formik:v,open:w,handleOpenClose:E,setOTPSubmitVerified:N}=e,D=[{label:"7.5t",value:"7.5t"},{label:"10t",value:"10t"},{label:"18t",value:"18t"},{label:"26t",value:"26t"},{label:"Trailer",value:"Trailer"},{label:"Attic",value:"Attic"}],q=[{label:"Small van",value:"Small van"},{label:"SWB 2.4 m ",value:"SWB 2.4 m "},{label:"Medium 3 m",value:"Medium 3 m"},{label:"Lwb 4m",value:"Lwb 4m"},{label:"XLWB",value:"XLWB"},{label:"Moterbike",value:"Moterbike"},{label:"Car",value:"Car"},{label:"Drop side",value:"Drop side"},{label:"Curtain side",value:"Curtain side"}],{enqueueSnackbar:H}=(0,O.Ds)(),[G,Y]=n.useState([]),X=(0,R.useRouter)(),[$,J]=n.useState(!1),{signUpWithGoogle:K,user:Q,signUpWithFacebook:ee}=(0,s.E)(),[et,ei]=n.useState(!1),[er,el]=n.useState(!1),[ea,en]=n.useState(""),[es,eo]=n.useState(""),[ec,ed]=n.useState("GB"),[eu,ep]=n.useState(!0),[ex,eh]=n.useState(!1),[em,ev]=n.useState(),[e_,ef]=n.useState(!1),[eg,ej]=n.useState(!1),[eb,ey]=n.useState(!1),[eZ,ew]=n.useState(60),eC={GB:{primary:"UK",secondary:"+44"},IN:{primary:"IN",secondary:"+91"}};(0,n.useEffect)(()=>{ef(!1)},[v.values.mobile.length]),(0,n.useEffect)(()=>{let e=setTimeout(()=>{ey(!0)},6e4),t=setInterval(()=>{ew(e=>e-1)},1e3);return()=>{clearTimeout(e),clearInterval(t)}},[]);let eF=()=>{ej(!0),setTimeout(()=>{ej(!1),ef(!0)},2e3)},eV=async()=>{try{K&&K(v.values.user_type)}catch(e){console.error(e)}},ez=async()=>{try{ee&&ee(v.values.user_type)}catch(e){console.error(e)}};n.useEffect(()=>{"van"===v.values.vehical_type?Y(q):"truck"===v.values.vehical_type?Y(D):Y([])},[v.values]);let ek=(0,P.TA)({initialValues:{email:v&&(null==v?void 0:null===(t=v.values)||void 0===t?void 0:t.mobile)?null==v?void 0:null===(i=v.values)||void 0===i?void 0:i.mobile:"",otp:es,type:"mobile"},validate:e=>{},onSubmit:async e=>{try{var t,i,l,a,n,s;let e=null==v?void 0:null===(i=v.values)||void 0===i?void 0:null===(t=i.mobile)||void 0===t?void 0:t.replace(/^0+/,"");console.log("newPhoneNumber",e);let o=await T.Z.post("/api/user/send-otp",{dial_code:"".concat(em),type:"mobile",logged:"no"});(null==o?void 0:o.status)===200?(H((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#74ccbf ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==o?void 0:null===(l=o.data)||void 0===l?void 0:l.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),ei(!0),J(!0),el(!0),eo(null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.verification_code),v.setFieldValue("otp",null==o?void 0:null===(n=o.data)||void 0===n?void 0:n.verification_code)):(H((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==o?void 0:null===(s=o.data)||void 0===s?void 0:s.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),ei(!1))}catch(e){console.error("Error occurred:",e),409===e.response.status&&H((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:"Mobile already register"}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})}}}),eS=async()=>{var e,t,i;"".concat(em).concat(v.values.mobile);let l={email:v.values.mobile,otp:null==v?void 0:null===(e=v.values)||void 0===e?void 0:e.otp};try{let e=await T.Z.post("api/user/validate-otp",l);(null==e?void 0:e.status)===200?(H((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#74ccbf ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),ei(!1),J(!1),ep(!1),en(e),eh(!0)):(H((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),ei(!1))}catch(e){console.error("Error sending OTP:",e)}};return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(x.Z,{sx:{pb:4,py:12},children:(0,r.jsx)(C.Z,{children:(0,r.jsxs)(_.ZP,{sx:{justifyContent:"center"},container:!0,spacing:0,children:[(0,r.jsx)(_.ZP,{item:!0,md:6,children:(0,r.jsx)(x.Z,{sx:{marginTop:"60px"},style:{position:"sticky",top:"100px"},children:(0,r.jsx)(x.Z,{src:"/login/bro.png",component:"img"})})}),(0,r.jsx)(_.ZP,{item:!0,md:5,sm:12,xs:12,children:(0,r.jsxs)(f.Z,{spacing:3,children:[(0,r.jsx)(x.Z,{textAlign:"center",children:(0,r.jsx)(g.Z,{fontSize:20,fontWeight:600,children:"Welcome to Click & Send"})}),(0,r.jsxs)(f.Z,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{fullWidth:!0,sx:{backgroundColor:e=>e.palette.grey[100],border:e=>"1px solid ".concat(e.palette.grey[300]),borderRadius:"20px",px:2,color:"#fff",":hover":{backgroundColor:e=>e.palette.grey[400]}},startIcon:(0,r.jsx)(c.Z,{icon:"flat-color-icons:google"}),onClick:()=>eV(),children:(0,r.jsx)(g.Z,{fontSize:9,color:e=>e.palette.grey[600],children:"Sign up with Google"})})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{fullWidth:!0,sx:{backgroundColor:e=>e.palette.grey[100],border:e=>"1px solid ".concat(e.palette.grey[300]),borderRadius:"20px",px:2,color:"#fff",":hover":{backgroundColor:e=>e.palette.grey[400]}},startIcon:(0,r.jsx)(c.Z,{icon:"logos:facebook"}),onClick:()=>ez(),children:(0,r.jsx)(g.Z,{fontSize:9,color:e=>e.palette.grey[600],children:"Sign up with Facebook"})})})]}),(0,r.jsxs)(x.Z,{component:"form",noValidate:!0,onSubmit:v.handleSubmit,children:[(0,r.jsxs)(x.Z,{mb:3,children:[(0,r.jsx)(F.Z,{control:(0,r.jsx)(V.Z,{size:"medium",name:"user_type",onChange:e=>{v.resetForm(),v.setFieldValue("user_type","driver")},checked:"driver"===v.values.user_type}),label:(0,r.jsx)(g.Z,{variant:"h5",fontWeight:500,children:"Driver"})}),(0,r.jsx)(F.Z,{control:(0,r.jsx)(V.Z,{size:"medium",name:"user_type",onChange:e=>{v.resetForm(),v.setFieldValue("user_type","company")},checked:"company"===v.values.user_type}),label:(0,r.jsx)(g.Z,{variant:"h5",fontWeight:500,children:"Company"})})]}),"company"===v.values.user_type&&(0,r.jsx)(x.Z,{sx:{mt:2},children:(0,r.jsx)(o.zC,{fullWidth:!0,placeholder:"Enter Your Name",name:"name",value:v.values.name,onChange:v.handleChange,helperText:v.touched.name&&v.errors.name,size:"small"})}),(0,r.jsx)(x.Z,{sx:{mt:2},children:(0,r.jsx)(o.zC,{fullWidth:!0,placeholder:"company"===v.values.user_type?"Enter Company Name":"Enter Your Full Name ",name:"user_name",value:v.values.user_name,onChange:v.handleChange,helperText:v.touched.user_name&&v.errors.user_name,size:"small"})}),(0,r.jsx)(x.Z,{sx:{mt:2},children:(0,r.jsx)(o.zC,{fullWidth:!0,placeholder:"company"===v.values.user_type?"Enter Company Email":"Enter Your Email Address",name:"email",value:v.values.email,onChange:v.handleChange,helperText:v.touched.email&&v.errors.email,size:"small"})}),(0,r.jsxs)(x.Z,{sx:{display:"flex",alignItems:"baseline",position:"relative"},children:[(0,r.jsx)("div",{style:{position:"relative",top:"-13px"},children:(0,r.jsx)(I.ZP,{selected:ec,onSelect:e=>{let t=e.toUpperCase(),{primary:i,secondary:r}=eC[t];ev(r),ed(t)},countries:["GB","IN"],customLabels:eC,selectedSize:10,className:"menu-flags",components:{DropdownIndicator:()=>null,IndicatorSeparator:()=>null},selectButtonClassName:"menu-flags-button",style:{border:"1px solid red",fontSize:"25px",borderRadius:"5px",width:"40px"}})}),(0,r.jsx)(o.zC,{variant:"standard",fullWidth:!0,name:"mobile",label:"Contact Number",value:v.values.mobile,onChange:e=>{let t=e.target.value.replace(/\D/gm,"").slice(0,11);v.setFieldValue("mobile",t)},helperText:v.touched.mobile&&v.errors.mobile,placeholder:"Enter Your Contact Number",size:"small"}),ex&&(0,r.jsx)(x.Z,{className:"numberVerified",mt:2,sx:{position:"absolute",top:"74%",left:"45%",transform:"translate(-50%, -50%)",color:"green",fontWeight:"bold"},children:"Number is verified."}),(0,r.jsx)(x.Z,{className:"otpButton",mt:2,children:(0,r.jsx)(h.Z,{variant:"contained",color:"primary",disabled:e_||11!==v.values.mobile.length,sx:{width:"100px",marginLeft:"10px"},onClick:()=>{ek.handleSubmit(),ef(!0),eF()},children:eg?(0,r.jsx)(z.Z,{size:24}):"Send OTP"})})]}),"company"===v.values.user_type&&(0,r.jsx)(x.Z,{sx:{mt:2},children:(0,r.jsx)(o.zC,{fullWidth:!0,placeholder:"Register Number",name:"register_number",value:v.values.register_number,onChange:v.handleChange,helperText:v.touched.register_number&&v.errors.register_number,size:"small"})}),(0,r.jsx)(x.Z,{sx:{mt:2},children:(0,r.jsx)(o.Jg,{fullWidth:!0,placeholder:"Enter Password",name:"password",value:v.values.password,onChange:v.handleChange,helperText:v.touched.password&&v.errors.password,size:"small"})}),(0,r.jsx)(x.Z,{sx:{my:2},children:(0,r.jsx)(o.Jg,{fullWidth:!0,placeholder:"Enter Confirm Password",name:"password_confirmation",value:v.values.password_confirmation,onChange:v.handleChange,helperText:v.touched.password_confirmation&&v.errors.password_confirmation,size:"small"})}),(0,r.jsx)(x.Z,{mt:2,children:(0,r.jsx)(o.jL,{fullWidth:!0,label:"Vehicle Type",value:null===(l=v.values)||void 0===l?void 0:l.vehical_type,name:"vehical_type",options:[{label:"Choose Vehicle Type",value:0},{label:"Vans",value:"van"},{label:"Trucks/ lorrys",value:"truck"}],onChange:e=>{v.setFieldValue("vehical_type",e.target.value),v.setFieldValue("vehicle",""),"van"===e.target.value?Y(q):"truck"===e.target.value?Y(D):Y([])},helperText:v.touched.vehical_type&&v.errors.vehical_type,size:"small",vehicle:"small"})}),(0,r.jsx)(x.Z,{mb:2,children:(0,r.jsx)(o.jL,{fullWidth:!0,label:"Vehicle",value:null===(a=v.values)||void 0===a?void 0:a.vehicle,name:"vehicle",options:G,onChange:v.handleChange,helperText:v.touched.vehicle&&v.errors.vehicle,size:"small",vehicle:"small"})}),"driver"===v.values.user_type?(0,r.jsx)(x.Z,{textAlign:"center",children:(0,r.jsx)(Z,{formik:v})}):"","company"===v.values.user_type?(0,r.jsx)(x.Z,{children:(0,r.jsxs)(f.Z,{direction:"row",spacing:2,sx:{mt:2},children:[(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Company Certificate"}),!v.values.company_certificate&&(0,r.jsx)(o.zC,{variant:"standard",fullWidth:!0,type:"file",size:"small",value:"",name:"company_certificate",onChange:e=>{v.setFieldValue("company_certificate",e.target.files[0]),v.setFieldValue("company_certificate_url",URL.createObjectURL(e.target.files[0]))},helperText:v.touched.company_certificate&&v.errors.company_certificate,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}}}),v.values.company_certificate_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsx)(b.Z,{children:(0,r.jsxs)(x.Z,{sx:{position:"relative"},children:[(0,r.jsx)(y.Z,{size:"small",sx:{position:"absolute",top:0,right:0},onClick:()=>{v.setFieldValue("company_certificate",""),v.setFieldValue("company_certificate_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})}),(0,r.jsx)(x.Z,{style:{margin:"10px",width:"150px",height:"150px"},thumbnail:!0,children:v.values.company_certificate.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:v.values.company_certificate_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:v.values.company_certificate_url,alt:v.values.company_certificate.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})})]}),(0,r.jsxs)(f.Z,{textAlign:"center",children:[(0,r.jsx)(g.Z,{textAlign:"left",variant:"p",children:"Company VAT Certificate"}),!v.values.company_vat&&(0,r.jsx)(o.zC,{variant:"standard",fullWidth:!0,type:"file",size:"small",value:"",name:"company_vat",onChange:e=>{v.setFieldValue("company_vat",e.target.files[0]),v.setFieldValue("company_vat_url",URL.createObjectURL(e.target.files[0]))},helperText:v.touched.company_vat&&v.errors.company_vat,isAdditional:!0,textBoxSx:{"& .MuiInput-root:after":{borderBottom:"0px !important"},"& .MuiInput-root:before":{borderBottom:"0px !important",content:'""'}}}),v.values.company_vat_url&&(0,r.jsx)(j.Z,{sx:{width:"max-content"},children:(0,r.jsx)(b.Z,{children:(0,r.jsxs)(x.Z,{sx:{position:"relative"},children:[(0,r.jsx)(y.Z,{size:"small",sx:{position:"absolute",top:0,right:0},onClick:()=>{v.setFieldValue("company_vat",""),v.setFieldValue("company_vat_url","")},children:(0,r.jsx)(p.Z,{fontSize:"small"})}),(0,r.jsx)(x.Z,{style:{margin:"10px",width:"150px",height:"150px"},thumbnail:!0,children:v.values.company_vat.name.toLowerCase().endsWith(".pdf")?(0,r.jsx)("embed",{src:v.values.company_vat_url,type:"application/pdf",width:"100%",height:"100%"}):(0,r.jsx)("img",{src:v.values.company_vat_url,alt:v.values.company_vat.name,style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})})]})]})}):"",(0,r.jsx)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsx)(x.Z,{my:3,children:(0,r.jsxs)(k.Z,{error:!!v.errors.term,fullWidth:!0,children:[(0,r.jsx)(F.Z,{name:"term",checked:"yes"==v.values.term,onChange:e=>{e.target.checked?v.setFieldValue("term","yes"):v.setFieldValue("term","no")},control:(0,r.jsx)(S.Z,{size:"",sx:{marginBottom:"1.6em"}}),label:(0,r.jsxs)(g.Z,{textAlign:"center",children:["I agree to the"," ",(0,r.jsx)(g.Z,{color:"primary",component:"span",onClick:()=>X.push("/termandcondition"),children:"Terms and Conditions"})," ","as set out by the user agreement."]})}),v.touched.term&&v.errors.term&&(0,r.jsx)(m.Z,{sx:{textAlign:"center"},children:v.errors.term})]})})}),(0,r.jsxs)(f.Z,{direction:"row",justifyContent:"space-around",children:[(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:(0,r.jsx)(g.Z,{px:"1.5em",children:"Register Now"})})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{fullWidth:!0,variant:"contained",color:"dark",onClick:v.resetForm,children:(0,r.jsx)(g.Z,{px:"2.1em",children:"Reset Now"})})})]}),(0,r.jsxs)(f.Z,{my:4,direction:"row",justifyContent:"center",spacing:.5,children:[(0,r.jsx)(g.Z,{variant:"p",children:"Already have An Account?"})," ",(0,r.jsx)(g.Z,{color:"primary",onClick:()=>X.push("/auth/login"),sx:{cursor:"pointer"},children:"Login Here"})]}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(g.Z,{textAlign:"center",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."})}),(0,r.jsx)(x.Z,{children:(0,r.jsx)(h.Z,{onClick:()=>X.push("/auth/register"),fullWidth:!0,sx:{backgroundColor:"#ff7534",color:"#fff",my:1,":hover":{backgroundColor:"#ff7534"}},startIcon:(0,r.jsx)(c.Z,{icon:"mdi:user",color:"#fff"}),children:(0,r.jsx)(g.Z,{children:"Become A Customer"})})})]})]})})]})})}),er&&(0,r.jsxs)(W.Z,{open:$,TransitionComponent:U,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",maxWidth:"xs",sx:{"& .MuiPaper-rounded":{borderRadius:"0px"}},children:[(0,r.jsx)(u.f,{title:"OTP Verification",showResend:et}),(0,r.jsxs)(A.Z,{dividers:!0,children:[(0,r.jsxs)(f.Z,{textAlign:"center",mt:2,children:[(0,r.jsx)(x.Z,{m:"auto",component:"img",width:"6em"}),(0,r.jsx)(g.Z,{variant:"h4",fontWeight:300,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Enter One Time OTP"}),(0,r.jsx)(g.Z,{sx:{fontSize:"16px"},children:"A Code has Been Sent To Your ".concat("email"==v.values.type?"Email":"Mobile")})]}),(0,r.jsx)(d.t,{formik:ek,showOTP:er}),(0,r.jsx)(x.Z,{children:(0,r.jsxs)(g.Z,{sx:{fontSize:"16px"},children:["Didn't receive OTP?"," ",!eb&&(0,r.jsxs)(g.Z,{color:"primary",component:"span",fontWeight:500,sx:{cursor:"pointer",fontSize:"15px"},children:["Resend OTP in ",eZ," seconds"]}),eb&&(0,r.jsx)(g.Z,{color:"primary",component:"span",fontWeight:500,sx:{cursor:"pointer",fontSize:"15px"},onClick:()=>{},children:"Resend OTP"})]})})]}),(0,r.jsx)(L.Z,{}),(0,r.jsxs)(B.Z,{children:[(0,r.jsx)(h.Z,{onClick:()=>eS(),variant:"contained",color:"primary",children:"Verify"}),(0,r.jsx)(h.Z,{variant:"contained",color:"dark",children:"Close"})]})]})]})};let N=()=>{let e=(0,R.useRouter)(),{slug:t}=e.query,{enqueueSnackbar:i}=(0,O.Ds)(),[a,s]=n.useState(!1),[o,c]=n.useState(!1),d=(0,P.TA)({initialValues:{user_name:"",user_type:"driver"===t?"driver":"company",email:"",driver_type:"individual",mobile:"",term:"no",password:"",password_confirmation:"",company_certificate:"",company_certificate_url:"",company_vat:"",company_vat_url:"",profile_img:"",licence_front:"",licence_back:"",profile_img_url:"",licence_front_url:"",licence_back_url:"",address_proof:"",address_proof_url:"",insurance_cert:"",insurance_cert_url:"",transit_cert:"",transit_cert_url:"",liability_cert:"",liability_cert_url:"",vehicle_cert:"",vehicle_cert_url:"",v5c_cert:"",v5c_cert_url:"",dvia_cert:"",register_type:"web",dvia_cert_url:"",nationality_cert:"",nationality_cert_url:"",document:"",register_number:"",vehicle:0,vehical_type:0},validate:e=>{let t={},i=/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,16}$/;return e.user_name||(t.user_name="User name is required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.mobile?/^[0-9]{11}$/.test(e.mobile)||(t.mobile="Please enter valid number"):t.mobile="Phone is required",e.password?i.test(e.password)||(t.password="Min 8 letter password, with at least a symbol, upper and lower case letters and a number"):t.password="Password is required",e.password_confirmation?i.test(e.password_confirmation)?e.password&&e.password_confirmation&&e.password!=e.password_confirmation&&(t.password_confirmation="Password didn't match."):t.password_confirmation="Min 8 letter password, with at least a symbol, upper and lower case letters and a number":t.password_confirmation="Confirm password is required",(null==e?void 0:e.user_type)!=="company"||(e.company_certificate||(t.company_certificate="Company Certificate is required"),e.company_vat||(t.company_vat="Company Vat is required"),e.register_number||(t.register_number="Register Number is required")),"no"==e.term&&(t.term="T&C is required"),t},onSubmit:async(t,l)=>{let a,n,{setErrors:s}=l;if(c(!0),"driver"===t.user_type){a="api/user/driver-register";let e=new FormData;e.append("user_name",null==t?void 0:t.user_name),e.append("user_type",null==t?void 0:t.user_type),e.append("email",null==t?void 0:t.email),e.append("mobile",null==t?void 0:t.mobile),e.append("term",null==t?void 0:t.term),e.append("password",null==t?void 0:t.password),e.append("driver_type",null==t?void 0:t.driver_type),e.append("register_type","web"),e.append("company_type","driver"),e.append("password_confirmation",null==t?void 0:t.password_confirmation),e.append("profile_img",null==t?void 0:t.profile_img),e.append("licence_front",null==t?void 0:t.licence_front),e.append("licence_back",null==t?void 0:t.licence_back),e.append("address_proof",null==t?void 0:t.address_proof),e.append("insurance_cert",null==t?void 0:t.insurance_cert),e.append("transit_cert",null==t?void 0:t.transit_cert),e.append("liability_cert",null==t?void 0:t.liability_cert),e.append("vehicle_cert",null==t?void 0:t.vehicle_cert),e.append("v5c_cert",null==t?void 0:t.v5c_cert),e.append("dvia_cert",null==t?void 0:t.dvia_cert),e.append("nationality_cert",null==t?void 0:t.nationality_cert),n=e}else{a="/api/user/company-register";let e=new FormData;e.append("user_name",null==t?void 0:t.user_name),e.append("user_type",null==t?void 0:t.user_type),e.append("email",null==t?void 0:t.email),e.append("mobile",null==t?void 0:t.mobile),e.append("company_type","driver"),e.append("term",null==t?void 0:t.term),e.append("password",null==t?void 0:t.password),e.append("password_confirmation",null==t?void 0:t.password_confirmation),e.append("company_certificate",null==t?void 0:t.company_certificate),e.append("company_vat",null==t?void 0:t.company_vat),n=e}await T.Z.post(a,n).then(t=>{var l,a;c(!1),(null==t?void 0:t.status)===200?(i((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==t?void 0:null===(l=t.data)||void 0===l?void 0:l.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),d.resetForm(),e.push("/auth/login")):i((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})}).catch(e=>{var l,a;let{response:n}=e;if(422===n.status)for(let[e,i]of Object.entries(t))n.data.error[e]&&s({[e]:n.data.error[e][0]});(null==n?void 0:null===(l=n.data)||void 0===l?void 0:l.status)===406&&i((0,r.jsx)(M.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==n?void 0:null===(a=n.data)||void 0===a?void 0:a.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})}});return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(E,{open:a,handleOpenClose:()=>{s(!a)},formik:d}),o&&(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,r.jsx)(z.Z,{})})]})};N.getLayout=function(e){return(0,r.jsx)(a.l,{children:e})};var D=N}},function(e){e.O(0,[4885,1810,678,3827,1994,6034,4815,8251,5981,6107,330,9774,2888,179],function(){return e(e.s=57785)}),_N_E=e.O()}]);