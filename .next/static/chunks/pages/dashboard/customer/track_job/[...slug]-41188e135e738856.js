(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2482],{67032:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customer/track_job/[...slug]",function(){return i(81497)}])},81497:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return k}});var t=i(85893),r=i(83590),l=i(26107),s=i(21425),o=i(15481),a=i(63763),d=i(87357),c=i(46574),u=i(69417),h=i(86886),x=i(66242),p=i(15861),j=i(67720),v=i(51233),f=i(67294),m=i(11163),Z=i(79582),g=i(50841),b=i(46901),_=()=>{let{enqueueSnackbar:e}=(0,g.Ds)(),n=(0,m.useRouter)(),{query:i}=(0,m.useRouter)(),{slug:r}=i,[l,_]=r,{user:w}=(0,s.E)(),[y,k]=(0,f.useState)([]),[E,N]=f.useState([]),P={bid_id:Number(l),user_id:Number(null==w?void 0:w.id),job_id:_},S=async()=>{await a.Z.post("api/auth/jobs/track-job",P).then(e=>{if(200===e.status){var n;k(e.data.view_data&&(null===(n=e.data.view_data)||void 0===n?void 0:n.length)>0?e.data.view_data:[])}}).catch(n=>{e((0,t.jsx)(b.Z,{style:{width:"100%",padding:"20px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:n.response.data.error}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})};return(0,f.useEffect)(()=>{l&&_&&(null==w?void 0:w.id)&&S()},[l]),f.useEffect(()=>{let e=[],n=[];y&&(null==y?void 0:y.length)>0&&y.forEach(i=>{i.forEach((i,t)=>{(null==i?void 0:i.type)=="drop"?e[t]={from:{lat:null==i?void 0:i.lat,lng:null==i?void 0:i.long}}:(null==i?void 0:i.type)=="pickup"&&(e[t-1]={from:{...e[t-1].from},to:{lat:null==i?void 0:i.lat,lng:null==i?void 0:i.long}},n.push(...e))})}),N(n)},[y,null==y?void 0:y.length]),(0,t.jsx)(f.Fragment,{children:(0,t.jsx)(d.Z,{py:12,children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(d.Z,{my:1,children:(0,t.jsxs)(u.Z,{variant:"outlined",sx:{my:0},onClick:()=>n.push("/dashboard/customer/job_posted"),children:[(0,t.jsx)(Z.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]})}),(0,t.jsx)(d.Z,{sx:{position:"relative",overflow:"hidden"},children:(0,t.jsxs)(h.ZP,{container:!0,children:[(0,t.jsx)(h.ZP,{item:!0,md:6,children:(0,t.jsxs)(x.Z,{sx:{position:"relative",pr:0,py:0,maxHeight:"92vh",overflowY:"scroll",height:"100%",borderRadius:"0px"},children:[(0,t.jsxs)(d.Z,{sx:{my:0,ml:0,position:"sticky",top:0,zIndex:1200,background:e=>e.palette.common.white},children:[(0,t.jsx)(p.Z,{component:"h3",variant:"h3",sx:{py:1},color:"primary",children:"Track Job"}),(0,t.jsx)(j.Z,{})]}),y.length>0&&y&&y.map(e=>e&&(null==e?void 0:e.length)>0&&e.map((e,n)=>(0,t.jsxs)(d.Z,{sx:{scrollSnapAlign:"start"},children:[(0,t.jsx)(x.Z,{sx:{p:2,mb:.5,borderRadius:"0px",boxShadow:"none"},children:(0,t.jsxs)(v.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:3,children:[(0,t.jsxs)(v.Z,{children:[(0,t.jsx)(d.Z,{children:(0,t.jsx)(p.Z,{fontWeight:500,textTransform:"uppercase",children:null==e?void 0:e.type})}),(0,t.jsx)(d.Z,{children:(0,t.jsx)(p.Z,{color:"grey",children:null==e?void 0:e.address})})]}),(0,t.jsx)(d.Z,{children:(0,t.jsx)(u.Z,{variant:"outlined",color:"dark",size:"small",children:"View"})})]})}),(0,t.jsx)(j.Z,{})]},n)))]})}),(0,t.jsx)(h.ZP,{item:!0,md:6,children:(0,t.jsx)(o.Z,{data:E})})]})})]})})})},w=i(28482);let y=()=>{let e=(0,w.TA)({initialValues:{}});return(0,t.jsx)(r.Z,{children:(0,t.jsx)(_,{formik:e})})};y.getLayout=function(e){return(0,t.jsx)(l.l,{children:e})};var k=y}},function(e){e.O(0,[4885,1810,1255,678,3827,1994,6034,4815,8251,4576,5981,6107,5324,180,9774,2888,179],function(){return e(e.s=67032)}),_N_E=e.O()}]);