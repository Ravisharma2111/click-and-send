"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7147],{83590:function(e,i,n){n.d(i,{Z:function(){return x}});var t=n(85893),o=n(45697),r=n.n(o),l=n(67294),s=n(11163),a=n(21425),d=n(94717);n(26107);var c=n(50261),u=n(87357),h=n(46574);function x(e){let{children:i}=e,{isAuthenticated:n,isInitialized:o}=(0,a.E)(),{pathname:r,push:x}=(0,s.useRouter)(),[p,j]=(0,l.useState)(null);return((0,l.useEffect)(()=>{p&&r!==p&&x(p),n&&j(null)},[n,r,x,p]),o)?n?(0,t.jsxs)(t.Fragment,{children:[" ",i," "]}):(r!==p&&j(r),(0,t.jsx)(d.Z,{})):(0,t.jsx)(u.Z,{mt:10,children:(0,t.jsx)(h.Z,{children:(0,t.jsx)(c.Z,{})})})}x.propTypes={children:r().node}},6049:function(e,i,n){var t=n(85893),o=n(21425),r=n(64666),l=n(6514),s=n(51233),a=n(15861),d=n(67720),c=n(31425),u=n(69417),h=n(11163),x=n(67294);i.Z=e=>{var i,n;let{children:p}=e,{user:j}=(0,o.E)(),g=(0,h.useRouter)(),[m,f]=x.useState(!0),Z=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return x.useEffect(()=>{Z.includes(null==g?void 0:g.route)?f(!1):f(!0)},[null==g?void 0:g.route]),(0,t.jsx)("div",{children:(null==j?void 0:null===(i=j.plan)||void 0===i?void 0:i.plan_id)?(0,t.jsxs)(r.Z,{open:(null==j||null===(n=j.plan)||void 0===n||!n.plan_id)&&m,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,t.jsx)(l.Z,{dividers:"paper",children:(0,t.jsx)(s.Z,{textAlign:"left",mt:2,children:(0,t.jsx)(a.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,t.jsx)(d.Z,{}),(0,t.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,t.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===g.route?g.push("company/subscription"):"/dashboard/driver/active_jobs"===g.route?g.push("subscription"):"/dashboard/customer"===g.route?g.push("/dashboard/customer/subscription"):"/driver/profile"===g.route?g.push("/dashboard/driver/subscription"):"/customer/profile"===g.route?g.push("/dashboard/customer/subscription"):"/company/profile"===g.route?g.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,t.jsx)(t.Fragment,{})})}},69662:function(e,i,n){n.d(i,{Z:function(){return m}});var t=n(85893),o=n(87357),r=n(37054),l=n(67294),s=n(51233),a=n(15861),d=n(88441),c=n(91440),u=n(87918),h=n(67720),x=n(79582);let p=e=>{var i,n;return console.log("datadtaa",e),(0,t.jsxs)(o.Z,{children:[(0,t.jsxs)(s.Z,{direction:"row",spacing:2,children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(o.Z,{component:"img",src:"".concat(null==e?void 0:null===(i=e.product)||void 0===i?void 0:i.base_url).concat(null==e?void 0:null===(n=e.product)||void 0===n?void 0:n.image),sx:{borderRadius:"50%",border:"3px solid #ff7534",width:"50px",height:"50px"}})}),(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(a.Z,{color:"primary",fontSize:14,fontWeight:500,variant:"subtitle1",children:"Mr. Alex"})}),(0,t.jsxs)(s.Z,{spacing:.2,pb:.8,children:[(0,t.jsxs)(s.Z,{direction:"row",spacing:.4,children:[(0,t.jsx)(o.Z,{children:(0,t.jsx)(a.Z,{fontWeight:400,fontSize:10,children:"Job Success Rate :"})}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(a.Z,{color:"primary",fontWeight:500,fontSize:10,children:"98 %"})})]}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(d.Z,{variant:"determinate",value:98})})]}),(0,t.jsx)(o.Z,{children:(0,t.jsx)(c.Z,{value:4,readOnly:!0,size:"small",sx:{color:e=>e.palette.primary.main,fontSize:"12px !important"}})})]})]}),(0,t.jsx)(o.Z,{py:1,children:(0,t.jsx)(s.Z,{direction:"row",spacing:1,children:(0,t.jsx)(u.Z,{icon:(0,t.jsx)(x.Z,{icon:"mdi:chat",width:14}),size:"small",label:"Send Message",variant:"outlined",color:"primary",sx:{fontSize:"10px",cursor:"pointer"}})})}),(0,t.jsx)(h.Z,{}),(0,t.jsx)(o.Z,{pt:1,children:(0,t.jsx)(a.Z,{fontSize:12,fontWeight:400,children:"Bid: $500"})})]})};var j=e=>{console.log("elem elem",e);let[i,n]=l.useState(!1),[o,s]=l.useState({directions:null}),a=0;l.useEffect(()=>{let i=e.from.lat+", "+e.from.lng,n=e.to.lat+", "+e.to.lng;d(i,n)},[e]);let d=async(e,i)=>{let n=new window.google.maps.DirectionsService;n.route({origin:e,destination:i,optimizeWaypoints:!0,travelMode:window.google.maps.TravelMode.DRIVING},(n,t)=>{t===window.google.maps.DirectionsStatus.OK?s({directions:n}):t===window.google.maps.DirectionsStatus.OVER_QUERY_LIMIT?setTimeout(()=>{d(e,i)},200*(a+=.2)):console.error("error fetching directions ".concat(n))})},c=null,u=null,h=null;return o.directions&&e.index&&(c=(0,t.jsx)(r.Jx,{defaultLabel:e.index.toString(),defaultIcon:null,position:{lat:parseFloat(e.from.lat),lng:parseFloat(e.from.lng)},onClick:()=>{n(!0)},children:i&&(0,t.jsx)(r.nx,{onCloseClick:()=>n(!1),children:p(e.data)})}),u=(0,t.jsx)(r.Jx,{defaultLabel:e.index.toString(),defaultIcon:null,position:{lat:parseFloat(e.to.lat),lng:parseFloat(e.to.lng)},onClick:()=>{n(!0)},children:i&&(0,t.jsx)(r.nx,{onCloseClick:()=>n(!1),children:p(e.data)})})),h=(0,t.jsx)(r.aH,{path:[{lat:parseFloat(e.from.lat),lng:parseFloat(e.from.lng)},{lat:parseFloat(e.to.lat),lng:parseFloat(e.to.lng)}],options:{strokeColor:"#FF0000",strokeOpacity:1,strokeWeight:1}}),(0,t.jsxs)("div",{children:[c,u,h]})};let g={width:"100%",height:"700px"};var m=l.memo(function(e){let{data:i=[]}=e,{isLoaded:n}=(0,r.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyD6MRqmdjtnIHn7tyDLX-qsjreaTkuzSCY"}),[s,a]=(0,l.useState)(null),[d,c]=(0,l.useState)({lat:51.509865,lng:-.118092}),[u,h]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(i.length>0){let e=new window.google.maps.LatLngBounds;i.forEach(i=>{e.extend(new window.google.maps.LatLng(i.from.lat,i.from.lng)),e.extend(new window.google.maps.LatLng(i.to.lat,i.to.lng))}),h(e),c(e.getCenter())}},[i]),n?(0,t.jsx)(o.Z,{component:"div",sx:{position:"relative",width:"100%"},children:(0,t.jsx)(r.b6,{mapContainerStyle:g,center:d,zoom:5,onLoad:e=>{a(e)},options:{restriction:{latLngBounds:u,strictBounds:!1}},children:i.map((e,i)=>(0,t.jsx)(j,{index:i+1,strokeColor:e.strokeColor,from:e.from,to:e.to,data:e.data},i))})}):(0,t.jsx)(t.Fragment,{})})},35379:function(e,i,n){var t=n(85893),o=n(38308),r=n(79582),l=n(50261),s=n(69662),a=n(63763),d=n(61659),c=n(37958),u=n(87357),h=n(46574),x=n(86886),p=n(51233),j=n(15861),g=n(14564),m=n(53800),f=n(91440),Z=n(67720),v=n(69417),b=n(88441),y=n(70872),w=n(6964),S=n(11994),C=n(11163),z=n(50841),k=n(46901),W=n(67294);i.Z=()=>{let e=(0,C.useRouter)(),[i,n]=(0,W.useState)([]),[I,F]=W.useState(""),[E,_]=W.useState(!1),[D,R]=W.useState(""),[P,L]=W.useState(0),[B,A]=W.useState(1),[M,O]=W.useState(1),[q,N]=W.useState(10),[T,J]=(0,W.useState)(10),[H,V]=(0,W.useState)(!1),[Y,G]=W.useState([]),[K,$]=W.useState([]),[Q,U]=W.useState(null),X=()=>{U(null)},ee=!!Q,ei=ee?"simple-popover":void 0,{enqueueSnackbar:en}=(0,z.Ds)(),et=async()=>{await a.Z.get("api/auth/jobs/job-bids/".concat(e.query.id)).then(e=>{if(V(!0),200===e.status){var i;V(!1),n(null===(i=e.data)||void 0===i?void 0:i.view_data)}}).catch(e=>{V(!1),console.log(e)})};(0,W.useEffect)(()=>{e.query.id&&et()},[e.query.id]);let eo=async()=>{await a.Z.get("api/auth/master/jobs/edit/".concat(e.query.id)).then(e=>{if(V(!0),200===e.status){var i;V(!1),$(null===(i=e.data)||void 0===i?void 0:i.view_data)}}).catch(e=>{V(!1),console.log(e)})};(0,W.useEffect)(()=>{e.query.id&&eo()},[e.query.id]),W.useEffect(()=>{var e;let i=[],n=[];(null==K?void 0:K.items)&&(null==K?void 0:null===(e=K.items)||void 0===e?void 0:e.length)>0&&(null==K||K.items.forEach(e=>{var t;(null==e?void 0:e.address)&&(null==e?void 0:null===(t=e.address)||void 0===t?void 0:t.length)>0&&(null==e||e.address.forEach((e,t)=>{(null==e?void 0:e.type)=="drop"?i[t]={from:{lat:null==e?void 0:e.lat,lng:null==e?void 0:e.long}}:(null==e?void 0:e.type)=="pickup"&&(i[t-1]={from:{...i[t-1].from},to:{lat:null==e?void 0:e.lat,lng:null==e?void 0:e.long}},n.push(...i))}))})),G(n)},[K,null==K?void 0:K.length]);let er=async i=>{await a.Z.get("api/auth/jobs/accept-bid/".concat(i)).then(i=>{var n,o;200===i.status?(e.push("/dashboard/customer/job_posted"),en((0,t.jsx)(k.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})):en((0,t.jsx)(k.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==i?void 0:null===(o=i.data)||void 0===o?void 0:o.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})}).catch(e=>{console.log(e)})};return console.log("mapData",Y),console.log("datadata",i),(0,t.jsxs)(W.Fragment,{children:[(0,t.jsx)(u.Z,{py:4,sx:{mt:10},pb:12,children:(0,t.jsx)(h.Z,{children:(0,t.jsxs)(x.ZP,{container:!0,spacing:2,children:[H?(0,t.jsx)(x.ZP,{item:!0,md:6,children:(0,t.jsx)(l.Z,{})}):(0,t.jsx)(x.ZP,{item:!0,md:6,children:(0,t.jsxs)(p.Z,{sx:{height:"100%"},justifyContent:"space-between",children:[(0,t.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsx)(p.Z,{alignItems:"center",onClick:()=>e.push("/dashboard/customer/job_posted"),mr:2,sx:{cursor:"pointer",border:e=>"2px solid ".concat(e.palette.primary.main),borderRadius:"50%"},width:30,height:30,children:(0,t.jsx)(r.Z,{icon:"ep:back",width:30,color:e=>e.palette.primary.main})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(j.Z,{fontSize:28,color:"primary",fontWeight:600,children:"Applied Bids"})})]}),(0,t.jsxs)(p.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(o.jL,{formSx:{marginBottom:0},sx:{borderRadius:"3em",height:"26px",fontSize:"12px",fontWeight:500},fullWidth:!0,size:"small",color:"#fff",value:P,onChange:e=>L(e.target.value),options:[{label:"Sort(Default)",value:0},{label:"Sort(New)",value:"new"},{label:"Sort(Last)",value:"last"}]})}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(r.Z,{onClick:e=>{U(e.currentTarget)},"aria-describedby":ei,icon:"lucide:filter",width:24,sx:{cursor:"pointer"},color:e=>e.palette.primary.main}),(0,t.jsx)(g.ZP,{id:ei,open:ee,anchorEl:Q,onClose:X,anchorReference:"anchorPosition",sx:{width:"40em"},anchorPosition:{top:150,left:370},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,t.jsxs)(u.Z,{px:2,py:2,children:[(0,t.jsx)(p.Z,{direction:"column",spacing:2,children:(0,t.jsxs)(p.Z,{spacing:2,children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(o.zC,{fullWidth:!0,size:"small",value:D,endIcon:(0,t.jsx)(r.Z,{icon:"iconamoon:search-bold"}),placeholder:"Search",onChange:e=>R(e.target.value)})}),(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(j.Z,{fontSize:14,fontWeight:500,children:"Price"})}),(0,t.jsx)(u.Z,{children:(0,t.jsxs)(j.Z,{fontSize:14,fontWeight:500,children:["$",T]})})]}),(0,t.jsx)(m.ZP,{size:"large",value:"number"==typeof T?T:0,onChange:e=>{J(e.target.value)}})]}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(u.Z,{mb:.6,children:(0,t.jsx)(j.Z,{fontSize:14,fontWeight:500,children:"Rating"})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(u.Z,{children:(0,t.jsx)(f.Z,{sx:{color:"#FBBC04"}})})})]})]})}),(0,t.jsx)(Z.Z,{sx:{my:2}}),(0,t.jsxs)(p.Z,{direction:"row",spacing:1,justifyContent:"end",children:[(0,t.jsx)(v.Z,{color:"dark",onClick:X,children:"Cancel"}),(0,t.jsx)(v.Z,{variant:"contained",children:"Filter"})]})]})})]})]})]}),(0,t.jsx)(u.Z,{sx:{flexGrow:i&&i.length>0?1:0},children:i&&i.length>0?i.map((e,i)=>{var n,o,l,s;return(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(Z.Z,{sx:{my:2}}),(0,t.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(x.ZP,{item:!0,md:2,children:(0,t.jsx)(u.Z,{component:"img",alt:null==e?void 0:null===(n=e.driver)||void 0===n?void 0:n.profile_img,src:"".concat(null==e?void 0:null===(o=e.driver)||void 0===o?void 0:o.base_url).concat(null==e?void 0:null===(l=e.driver)||void 0===l?void 0:l.profile_img),sx:{borderRadius:"50%",width:"65px",objectFit:"cover",height:"65px",border:"1px solid #f2f2f2"}})}),(0,t.jsx)(x.ZP,{item:!0,md:10,children:(0,t.jsxs)(p.Z,{direction:"column",children:[(0,t.jsx)(u.Z,{pb:.3,children:(0,t.jsxs)(p.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(j.Z,{fontSize:16,fontWeight:500,children:null==e?void 0:null===(s=e.driver)||void 0===s?void 0:s.user_name})}),(0,t.jsx)(u.Z,{children:(0,t.jsxs)(j.Z,{fontSize:16,fontWeight:600,children:[(0,t.jsx)(r.Z,{icon:"bi:currency-pound"}),null==e?void 0:e.ammount]})}),(0,t.jsx)(p.Z,{direction:"row",spacing:1,children:(0,t.jsx)(v.Z,{sx:{cursor:(null==e?void 0:e.status)===4?"not-allowed":"pointer"},icon:(0,t.jsx)(r.Z,{icon:"material-symbols:check-circle"}),variant:"contained",onClick:()=>(null==e?void 0:e.status)!==1&&(null==e?void 0:e.status)!==4&&(null==e?void 0:e.status)!==2&&(null==e?void 0:e.status)!==3&&F(null==e?void 0:e.id),children:(null==e?void 0:e.status)===1||(null==e?void 0:e.status)===2||(null==e?void 0:e.status)===3||(null==e?void 0:e.status)===4?"Accepted":(null==e?void 0:e.status)===5?"Declined":"Accept"})})]})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(f.Z,{value:null==e?void 0:e.rating,readOnly:!0,size:"small",sx:{color:"#FBBC04"}})})]})})]}),(0,t.jsxs)(p.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",pt:2,children:[(0,t.jsxs)(p.Z,{children:[(0,t.jsxs)(p.Z,{direction:"row",spacing:.4,children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(j.Z,{color:"#5D5D5D",fontSize:14,fontWeight:400,children:"Job Success Rate1 :"})}),(0,t.jsx)(u.Z,{children:(0,t.jsxs)(j.Z,{color:"#5D5D5D",fontSize:14,fontWeight:600,children:[null==e?void 0:e.jobpercent," %"]})})]}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(b.Z,{variant:"determinate",value:null==e?void 0:e.jobpercent})})]}),(0,t.jsx)(p.Z,{children:(0,t.jsxs)(j.Z,{fontSize:14,fontWeight:500,sx:{display:"flex",alignItems:"flex-start"},children:["Earned: ",(0,t.jsx)(r.Z,{icon:"bi:currency-pound"}),null==e?void 0:e.earning,"+"]})})]}),(0,t.jsx)(Z.Z,{sx:{my:2}})]},i)}):(0,t.jsx)(u.Z,{textAlign:"center",py:6,children:(0,t.jsx)(j.Z,{variant:"h4",children:"No Bids Yet !"})})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(p.Z,{alignItems:"center",justifyContent:"center",children:(0,t.jsx)(y.Z,{count:M,color:"primary",page:B,onChange:(e,i)=>{A(i)},variant:"outlined",shape:"rounded",renderItem:e=>(0,t.jsx)(w.Z,{slots:{previous:()=>(0,t.jsx)(p.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(d.Z,{})}),next:()=>(0,t.jsx)(p.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(c.Z,{})})},...e})})})})]})}),(0,t.jsx)(x.ZP,{item:!0,md:6,children:(0,t.jsx)(u.Z,{sx:{position:"sticky",top:75,display:"block"},children:(0,t.jsx)(s.Z,{data:Y})})})]})})}),(0,t.jsx)(u.Z,{children:(0,t.jsx)(S.Z,{open:I,onClose:()=>F(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,t.jsxs)(u.Z,{sx:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"1px solid #f5f5f5",boxShadow:24,p:4},children:[(0,t.jsx)(j.Z,{id:"modal-modal-title",variant:"h6",component:"h2",pb:2,children:"Are you sure you want to Accept Bid?"}),(0,t.jsxs)(p.Z,{direction:"row",spacing:8,children:[(0,t.jsx)(v.Z,{fullWidth:!0,variant:"outlined",onClick:()=>er(I),children:"Yes"}),(0,t.jsx)(v.Z,{fullWidth:!0,variant:"outlined",onClick:()=>F(!1),children:"No"})]})]})})})]})}}}]);