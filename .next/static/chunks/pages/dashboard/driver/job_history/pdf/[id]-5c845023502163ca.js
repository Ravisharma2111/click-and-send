(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8449],{25461:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/driver/job_history/pdf/[id]",function(){return t(56454)}])},83590:function(e,i,t){"use strict";t.d(i,{Z:function(){return p}});var r=t(85893),o=t(45697),n=t.n(o),s=t(67294),a=t(11163),l=t(21425),d=t(94717);t(26107);var u=t(50261),c=t(87357),h=t(46574);function p(e){let{children:i}=e,{isAuthenticated:t,isInitialized:o}=(0,l.E)(),{pathname:n,push:p}=(0,a.useRouter)(),[v,m]=(0,s.useState)(null);return((0,s.useEffect)(()=>{v&&n!==v&&p(v),t&&m(null)},[t,n,p,v]),o)?t?(0,r.jsxs)(r.Fragment,{children:[" ",i," "]}):(n!==v&&m(n),(0,r.jsx)(d.Z,{})):(0,r.jsx)(c.Z,{mt:10,children:(0,r.jsx)(h.Z,{children:(0,r.jsx)(u.Z,{})})})}p.propTypes={children:n().node}},6049:function(e,i,t){"use strict";var r=t(85893),o=t(21425),n=t(64666),s=t(6514),a=t(51233),l=t(15861),d=t(67720),u=t(31425),c=t(69417),h=t(11163),p=t(67294);i.Z=e=>{var i,t;let{children:v}=e,{user:m}=(0,o.E)(),b=(0,h.useRouter)(),[x,f]=p.useState(!0),j=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return p.useEffect(()=>{j.includes(null==b?void 0:b.route)?f(!1):f(!0)},[null==b?void 0:b.route]),(0,r.jsx)("div",{children:(null==m?void 0:null===(i=m.plan)||void 0===i?void 0:i.plan_id)?(0,r.jsxs)(n.Z,{open:(null==m||null===(t=m.plan)||void 0===t||!t.plan_id)&&x,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,r.jsx)(s.Z,{dividers:"paper",children:(0,r.jsx)(a.Z,{textAlign:"left",mt:2,children:(0,r.jsx)(l.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(u.Z,{sx:{justifyContent:"center"},children:(0,r.jsx)(c.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===b.route?b.push("company/subscription"):"/dashboard/driver/active_jobs"===b.route?b.push("subscription"):"/dashboard/customer"===b.route?b.push("/dashboard/customer/subscription"):"/driver/profile"===b.route?b.push("/dashboard/driver/subscription"):"/customer/profile"===b.route?b.push("/dashboard/customer/subscription"):"/company/profile"===b.route?b.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,r.jsx)(r.Fragment,{})})}},33074:function(e,i,t){"use strict";var r=t(85893),o=t(21425),n=t(38308),s=t(23984),a=t(67998),l=t(63763),d=t(87357),u=t(11994),c=t(51233),h=t(15861),p=t(69417),v=t(28482),m=t(50841),b=t(46901),x=t(67294);i.Z=e=>{let{job_id:i,applyOpen:t,handleClose:f,getData:j}=e,g=(0,a.I0)(),{user:Z}=(0,o.E)(),{enqueueSnackbar:y}=(0,m.Ds)(),{jobAlert:{pageCount:_,data:w,page:E,pageSize:k}}=(0,a.v9)(e=>e.driverJob),C=(0,v.TA)({initialValues:{job_id:i,driver_id:null==Z?void 0:Z.id,is_apply:1,ammount:"",description:""},validate:e=>{let i={};return e.description||(i.description="Note is required"),e.ammount?e.ammount.length>=6&&(i.ammount="Enter valid number (Max 5 Digit)"):i.ammount="Amount is required",i},onSubmit:async e=>{await l.Z.post("api/auth/jobs/apply-bid",C.values).then(e=>{if(200===e.status){var i;C.resetForm(),y((0,r.jsx)(b.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),g((0,s.tH)({user_id:null==Z?void 0:Z.id,type:null==Z?void 0:Z.user_type,lat:0,long:0})),f(!1)}}).catch(e=>{var i;console.log(e);let{response:t}=e;y((0,r.jsx)(b.Z,{icon:!1,severity:"error",children:null==t?void 0:null===(i=t.data)||void 0===i?void 0:i.error}),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}})})}});return(0,x.useEffect)(()=>{C.setFieldValue("job_id",i)},[i]),(0,x.useEffect)(()=>{C.setFieldValue("driver_id",null==Z?void 0:Z.id)},[Z,null==Z?void 0:Z.id]),(0,r.jsx)(d.Z,{children:(0,r.jsx)(u.Z,{open:t,onClose:f,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(d.Z,{sx:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"1px solid #f5f5f5",boxShadow:24,p:4},component:"form",noValidate:!0,onSubmit:C.handleSubmit,children:[(0,r.jsxs)(c.Z,{spacing:2,children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)(n.zC,{fullWidth:!0,size:"small",name:"ammount",value:C.values.ammount,isMaxLenght:5,onChange:e=>{e&&C.setFieldValue("ammount",e.target.value.replace(/\D/gm,""))},label:"Bid Price",placeholder:"Bidding Price",helperText:C.touched.ammount&&C.errors.ammount})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(n.zC,{fullWidth:!0,size:"small",multiline:!0,rows:4,name:"description",value:C.values.description,onChange:C.handleChange,label:"Note",placeholder:"Note For Customer",helperText:C.touched.description&&C.errors.description})}),(0,r.jsx)(h.Z,{id:"modal-modal-title",variant:"h6",component:"h2",pb:2,children:"Are you sure you want to Apply for the Job ?"})]}),(0,r.jsxs)(c.Z,{direction:"row",spacing:8,children:[(0,r.jsx)(p.Z,{fullWidth:!0,variant:"outlined",type:"submit",children:"Yes"}),(0,r.jsx)(p.Z,{fullWidth:!0,variant:"outlined",onClick:()=>{f(),C.resetForm()},children:"No"})]})]})})})}},56454:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return b}});var r=t(85893),o=t(83590),n=t(6049),s=t(26107),a=t(79582);t(33074);var l=t(63763),d=t(87357),u=t(46574),c=t(69417),h=t(11163),p=t(67294),v=()=>{let e=(0,h.useRouter)(),{id:i}=e.query,[t,o]=(0,p.useState)([]),[n,s]=(0,p.useState)([]),v=async()=>{await l.Z.get("api/auth/master/jobs/view/".concat(i)).then(e=>{var i;(null==e?void 0:e.status)===200&&o(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.view_data)}).catch(e=>{console.log("RatignList",e)})};p.useEffect(()=>{i&&v()},[i]);let m=async()=>{await l.Z.get("api/auth/rating/view/".concat(i)).then(e=>{var i;(null==e?void 0:e.status)===200&&s(null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.view_data)}).catch(e=>{console.log("RatignList ",e)})};return p.useEffect(()=>{i&&m()},[i]),console.log("jobDetail",t,n),(0,r.jsxs)(p.Fragment,{children:[(0,r.jsx)(d.Z,{mt:10,children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(d.Z,{my:4,children:(0,r.jsxs)(c.Z,{variant:"outlined",sx:{my:2},onClick:()=>e.push("/dashboard/driver/job_history"),children:[(0,r.jsx)(a.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]})})})})," "]})};let m=()=>(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(v,{}),(0,r.jsx)(n.Z,{})]});m.getLayout=function(e){return(0,r.jsx)(s.l,{children:e})};var b=m}},function(e){e.O(0,[4885,1810,678,3827,1994,6034,4815,8251,4576,5981,6107,5324,9774,2888,179],function(){return e(e.s=25461)}),_N_E=e.O()}]);