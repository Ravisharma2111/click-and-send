"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5324],{22065:function(e,i,r){r.d(i,{f:function(){return s}});var o=r(85893),t=r(87357),n=r(51233),l=r(37645),a=r(67720);r(67294);let s=e=>{let{onClose:i,title:r,handleClose:s}=e;return(0,o.jsxs)(t.Z,{sx:{background:e=>e.palette.primary.main},children:[(0,o.jsx)(n.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:(0,o.jsx)(l.Z,{color:"inherit",sx:{color:e=>e.palette.common.white,fontSize:"20px",fontWeight:500},children:r})}),(0,o.jsx)(a.Z,{})]})}},76487:function(e,i,r){r.d(i,{t:function(){return c}});var o=r(85893),t=r(38308);r(79582);var n=r(87357),l=r(94054),a=r(51233),s=r(67294),d=r(58386);let c=e=>{var i,r,c,p,u,h;let{formik:x,showOTP:m}=e;return console.log("aaaaaaaaaaa",x),(0,o.jsx)(s.Fragment,{children:m?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{sx:{mt:4}}),(0,o.jsx)(n.Z,{sx:{my:2},children:(0,o.jsx)(n.Z,{sx:{width:"100%",textAlign:"center"},children:(0,o.jsx)(l.Z,{error:null!=x&&null!==(u=x.errors)&&void 0!==u&&!!u.otp,children:(0,o.jsx)(d.Z,{name:"otp",containerStyle:{justifyContent:"center"},inputStyle:{width:"50px",height:"56px",borderRadius:"10px"},value:null==x?void 0:null===(h=x.values)||void 0===h?void 0:h.otp,onChange:e=>x.setFieldValue("otp",e),numInputs:4,renderSeparator:(0,o.jsx)("span",{style:{marginRight:"5px"}}),renderInput:e=>(0,o.jsx)("input",{...e})})})})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Z,{sx:{mt:4}}),(0,o.jsx)(n.Z,{sx:{my:2},children:(0,o.jsxs)(n.Z,{sx:{width:"100%",textAlign:"center"},children:[(0,o.jsx)(l.Z,{error:null!=x&&null!==(i=x.errors)&&void 0!==i&&!!i.otp,children:(0,o.jsx)(d.Z,{name:"otp",containerStyle:{justifyContent:"center"},inputStyle:{width:"50px",height:"56px",borderRadius:"10px"},value:null==x?void 0:null===(r=x.values)||void 0===r?void 0:r.otp,onChange:e=>x.setFieldValue("otp",e),numInputs:4,renderSeparator:(0,o.jsx)("span",{style:{marginRight:"5px"}}),renderInput:e=>(0,o.jsx)("input",{...e})})}),(0,o.jsxs)(a.Z,{spacing:1,children:[(0,o.jsx)(n.Z,{children:(0,o.jsx)(t.Jg,{fullWidth:!0,size:"small",name:"password",value:x.values.password,onChange:x.handleChange,placeholder:"Enter New Password",helperText:null==x?void 0:null===(c=x.errors)||void 0===c?void 0:c.password})}),(0,o.jsx)(n.Z,{children:(0,o.jsx)(t.Jg,{fullWidth:!0,size:"small",name:"password_confirmation",value:x.values.password_confirmation,onChange:x.handleChange,placeholder:"Enter Confirm Password",helperText:null==x?void 0:null===(p=x.errors)||void 0===p?void 0:p.password_confirmation})})]})]})})]})})}},50261:function(e,i,r){var o=r(85893),t=r(66242),n=r(78445),l=r(88078),a=r(44267),s=r(67294);i.Z=()=>(0,o.jsxs)(t.Z,{sx:{maxWidth:"100%",my:4},children:[(0,o.jsx)(n.Z,{avatar:(0,o.jsx)(l.Z,{animation:"wave",variant:"circular",width:40,height:40}),title:(0,o.jsx)(l.Z,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),subheader:(0,o.jsx)(l.Z,{animation:"wave",height:10,width:"40%"})}),(0,o.jsx)(l.Z,{sx:{height:190},animation:"wave",variant:"rectangular"}),(0,o.jsx)(a.Z,{children:(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(l.Z,{animation:"wave",height:10,style:{marginBottom:6}}),(0,o.jsx)(l.Z,{animation:"wave",height:10,width:"80%"})]})})]})},94717:function(e,i,r){r.d(i,{Z:function(){return _}});var o=r(85893),t=r(21425),n=r(67294),l=r(54776),a=r(64666),s=r(6514),d=r(51233),c=r(87357),p=r(15861),u=r(67720),h=r(31425),x=r(69417),m=r(22065),v=r(38308),g=r(79582),f=r(94054),j=r(45185),Z=r(50135),w=r(56815),y=r(13311),b=r.n(y),C=r(33987);let S=e=>{var i,r,t;let{formik:l,handleSelect:a,customLabels:s}=e,p=[{label:"Email",value:"email"},{label:"Mobile",value:"mobile"}],[u,h]=n.useState("GB");return console.log(l),(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(c.Z,{sx:{mt:4}}),(0,o.jsxs)(f.Z,{sx:{mb:1.3},error:!!l.errors.type,fullWidth:!0,children:[(0,o.jsx)(d.Z,{direction:"row",children:(0,o.jsx)(j.Z,{sx:{mb:0},size:"small",fullWidth:!0,options:p,name:"type",value:b()(p,{value:null==l?void 0:null===(i=l.values)||void 0===i?void 0:i.type}),onChange:(e,i)=>{l.setFieldValue("type",null==i?void 0:i.value),l.setFieldValue("email","")},error:l.touched.type&&l.errors.type,helperText:l.touched.type&&l.errors.type,renderInput:e=>(0,o.jsx)(Z.Z,{...e,placeholder:"Choose Option for Get OTP",InputProps:{...e.InputProps}})})}),l.errors.type&&(0,o.jsx)(w.Z,{children:l.errors.type})]}),"email"==l.values.type&&(0,o.jsx)(v.zC,{size:"small",fullWidth:!0,start:!0,name:"email",placeholder:"Enter your Registered Email",value:null==l?void 0:null===(r=l.values)||void 0===r?void 0:r.email,onChange:l.handleChange,error:l.touched.email&&l.errors.email,helperText:l.touched.email&&l.errors.email}),"mobile"==l.values.type&&(0,o.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(C.ZP,{selected:u,onSelect:e=>h(e),countries:["GB","IN"],customLabels:s,selectedSize:10,style:{marginRight:"10px",border:"1px solid red",fontSize:"25px",borderRadius:"5px",padding:"5px"}}),(0,o.jsx)(v.zC,{size:"small",fullWidth:!0,name:"email",placeholder:"Enter your Registered Contact No",value:null==l?void 0:null===(t=l.values)||void 0===t?void 0:t.email,onChange:l.handleChange,error:l.touched.email&&l.errors.email,helperText:l.touched.email&&l.errors.email})]})]})};var z=r(28482),k=r(50841),W=r(46901),P=r(76487),O=r(63763),F=r(11163);let E=n.forwardRef(function(e,i){return(0,o.jsx)(l.Z,{direction:"down",ref:i,...e})});var I=e=>{let{keepMounted:i,onClose:r,open:t,title:l}=e,{enqueueSnackbar:v}=(0,k.Ds)(),[g,f]=n.useState(!1),[j,Z]=n.useState(!1),w=()=>{r(),f(!1)},[y,b]=n.useState(),[C,I]=n.useState(""),V={GB:{primary:"UK",secondary:"+44"},IN:{primary:"IN",secondary:"+91"}},R=(0,z.TA)({initialValues:{email:"",mobile:"",otp:"",type:"email",password:"",password_confirmation:""},validate:e=>{let i={};return"mobile"!==e.type||e.email?"mobile"===e.type&&(!/^\+?[0-9]{0,13}$/.test(e.email.replace(/\s+/g,""))||isNaN(parseInt(e.email.replace(/\s+/g,"").replace("+",""))))&&(i.email="Please enter a valid phone number (up to 15 digits) with '+' sign"):i.email="Mobile no. is required","email"!==e.type||e.email?"email"!==e.type||/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(i.email="Invalid email address"):i.email="Email is required",g&&!e.otp&&(i.otp="OTP is Required"),i},onSubmit:async(e,i)=>{let t,n,{setErrors:l}=i;console.log("values forgot",e),g?(t="/api/user/reset-password",n={email:null==e?void 0:e.email,otp:null==e?void 0:e.otp,password:null==e?void 0:e.password,password_confirmation:null==e?void 0:e.password_confirmation}):(t="/api/user/send-otp",n={email:(null==e?void 0:e.email)||"".concat(y).concat(e.mobile),mobile:"".concat(y).concat(e.mobile),type:null==e?void 0:e.type,logged:"yes"}),await O.Z.post(t,n,{setErrors:l}).then(e=>{var i,t,n;(null==e?void 0:e.status)===200?(v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),g&&(N(),r()),f(!0),R.setFieldValue("otp",null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.verification_code),setOpen(!0),g&&(N(),r())):(v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),f(!1))}).catch(i=>{var r;let{response:t}=i;if(console.log("formik.values",t),422===t.status)for(let[i,r]of Object.entries(e))t.data.error[i]&&l({[i]:t.data.error[i][0]});[406,404].includes(null==t?void 0:t.status)&&v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==t?void 0:null===(r=t.data)||void 0===r?void 0:r.message}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})}}),T=(0,z.TA)({initialValues:{email:"",otp:"",password:"",password_confirmation:""},validate:e=>{let i={};return e.password||(i.password="New password is required"),e.password_confirmation||(i.password_confirmation="Confirm password is required"),e.password_confirmation&&e.password&&e.password_confirmation!==e.password&&(i.password_confirmation="Confirm password didn't match with new password"),i},onSubmit:async(e,i)=>{let{setErrors:r}=i,t=e.email.trim().toLowerCase(),n=e.otp.trim();console.error(t,"Error occurred:",n),T.setFieldValue("email",t),T.setFieldValue("otp",n),await O.Z.post("api/user/reset-password",e).then(e=>{if(200===e.status){var i;v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),N(),w(),clearToken(),Z(!1),A.push("/auth/login")}}).catch(i=>{var t,n,l;let{response:a}=i;if(v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==a?void 0:null===(t=a.data)||void 0===t?void 0:t.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),422===a.status)for(let[i,o]of Object.entries(e))a.data.error[i]&&r({[i]:a.data.error[i][0]});(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.status)===406&&v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})}}),N=()=>{R.resetForm(),f(!1)},_=async()=>{var e,i;let r;r={email:null==R?void 0:null===(e=R.values)||void 0===e?void 0:e.email,type:null==R?void 0:null===(i=R.values)||void 0===i?void 0:i.type,logged:"yes"},await O.Z.post("api/user/resend-otp",r).then(e=>{var i,r,t;(null==e?void 0:e.status)===200?(v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),R.setFieldValue("otp",null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.verification_code)):v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})}).catch(e=>{var i;let{response:r}=e;[406,404].includes(null==r?void 0:r.status)&&v((0,o.jsx)(W.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==r?void 0:null===(i=r.data)||void 0===i?void 0:i.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})},A=(0,F.useRouter)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(a.Z,{open:t,TransitionComponent:E,keepMounted:i,components:"form",scroll:"paper",onClose:r,"aria-describedby":"alert-dialog-slide-description",maxWidth:"xs",sx:{"& .MuiPaper-rounded":{borderRadius:"0px"}},children:[(0,o.jsx)(m.f,{onClose:()=>r(),title:"".concat(g?"OTP Verification":l),showResend:g,handleClose:N}),(0,o.jsxs)(s.Z,{dividers:"paper",children:[(0,o.jsxs)(d.Z,{textAlign:"center",mt:2,children:[!g&&(0,o.jsx)(c.Z,{m:"auto",component:"img",src:"/assets/images/auth/forgot.png",width:"6em"}),(0,o.jsx)(p.Z,{variant:"h4",fontWeight:300,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:g?"Please Enter One Time OTP for Reset Your Password":"Forget Password"}),(0,o.jsx)(p.Z,{sx:{fontSize:"16px"},children:g?"A Code has Been Sent To Your ".concat("email"==R.values.type?"Email":"Mobile"):"Enter Your Registerd Email or Contact no & Well Send you a link to reset your Password"})]}),g?(0,o.jsx)(P.t,{formik:R}):(0,o.jsx)(S,{formik:R,selected:C,handleSelect:e=>{let i=e.toUpperCase(),{primary:r,secondary:o}=V[i];b(o),I(i)},customLabels:V}),g&&(0,o.jsx)(c.Z,{children:(0,o.jsxs)(p.Z,{sx:{fontSize:"16px"},children:["Didn","'","t receive OTP ?"," ",(0,o.jsx)(p.Z,{color:"primary",component:"span",fontWeight:500,sx:{cursor:"pointer",fontSize:"15px"},onClick:_,children:"Resend OTP"})]})})]}),(0,o.jsx)(u.Z,{}),(0,o.jsxs)(h.Z,{children:[(0,o.jsx)(x.Z,{onClick:()=>R.handleSubmit(),variant:"contained",color:"primary",children:"Verify"}),(0,o.jsx)(x.Z,{variant:"contained",color:"dark",onClick:()=>{r(),N()},children:"Close"})]})]})})},V=r(46574),R=r(86886),T=r(50480),N=r(69368),_=()=>{var e,i;let r=(0,F.useRouter)(),[l,a]=(0,n.useState)(!1),s=()=>a(!1),{login:u}=(0,t.E)(),{loginWithGoogle:h,user:m,loginWithFacebook:f}=(0,t.E)(),j=async()=>{try{h&&h(),console.log("GOOGLE LOGIN")}catch(e){console.error(e)}},Z=async()=>{try{f&&f(),console.log("FACEBOOK LOGIN")}catch(e){console.error(e)}},w=()=>{"Notification"in window?"granted"===Notification.permission?new Notification("Hello, World!"):"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){"granted"===e&&new Notification("Hello, World!")}):alert("This browser does not support desktop notification")},y=(0,z.TA)({initialValues:{email:"",password:""},validate:e=>{let i={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(i.email="Invalid email address"):i.email="Email Required",e.password?e.password.length<6&&(i.password="Password must be at least 6 characters"):i.password="Password Required",i},onSubmit:async e=>{let i={email:e.email,password:e.password};u(i),w(),requestPermission()}});return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(c.Z,{sx:{py:14},children:(0,o.jsx)(V.Z,{children:(0,o.jsxs)(R.ZP,{spacing:0,sx:{justifyContent:"center",alignItems:"center"},container:!0,children:[(0,o.jsx)(R.ZP,{item:!0,md:6,children:(0,o.jsx)(c.Z,{children:(0,o.jsx)(c.Z,{src:"/login/pana.png",component:"img"})})}),(0,o.jsx)(R.ZP,{item:!0,md:4,sm:12,xs:12,children:(0,o.jsxs)(d.Z,{spacing:3,children:[(0,o.jsx)(c.Z,{textAlign:"center",children:(0,o.jsx)(p.Z,{fontSize:20,fontWeight:600,children:"Hey! Welcome Back"})}),(0,o.jsxs)(d.Z,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(x.Z,{fullWidth:!0,sx:{backgroundColor:e=>e.palette.grey[100],border:e=>"1px solid ".concat(e.palette.grey[300]),borderRadius:"20px",px:2,color:"#fff",":hover":{backgroundColor:e=>e.palette.grey[400]}},startIcon:(0,o.jsx)(g.Z,{icon:"flat-color-icons:google"}),onClick:()=>j(),children:(0,o.jsx)(p.Z,{fontSize:9,color:e=>e.palette.grey[600],children:"Sign in with Google"})})}),(0,o.jsx)(c.Z,{children:(0,o.jsxs)(x.Z,{fullWidth:!0,sx:{backgroundColor:e=>e.palette.grey[100],border:e=>"1px solid ".concat(e.palette.grey[300]),borderRadius:"20px",px:2,color:"#fff",":hover":{backgroundColor:e=>e.palette.grey[400]}},startIcon:(0,o.jsx)(g.Z,{icon:"logos:facebook"}),onClick:()=>Z(),children:["  ",(0,o.jsx)(p.Z,{fontSize:9,color:e=>e.palette.grey[600],children:"Sign in with Facebook"})]})})]}),(0,o.jsx)(d.Z,{spacing:1,py:1,children:(0,o.jsxs)(c.Z,{component:"form",noValidate:!0,onSubmit:y.handleSubmit,children:[(0,o.jsxs)(d.Z,{spacing:2,children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(v.zC,{variant:"standard",fullWidth:!0,label:"Email",placeholder:"Enter Your Email Address",size:"small",onChange:y.handleChange,value:y.values.email,name:"email",helperText:null==y?void 0:null===(e=y.errors)||void 0===e?void 0:e.email})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(v.Jg,{label:"Password",variant:"standard",onChange:y.handleChange,fullWidth:!0,placeholder:"Enter Password",size:"small",value:y.values.password,name:"password",helperText:null==y?void 0:null===(i=y.errors)||void 0===i?void 0:i.password})}),(0,o.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(T.Z,{control:(0,o.jsx)(N.Z,{size:"",defaultChecked:!0}),label:"Remember me",sx:{fontSize:14,"&..MuiFormControlLabel-label":{fontSize:"4px"}}})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(p.Z,{onClick:()=>a(!0),variant:"p",color:"primary",sx:{cursor:"pointer",fontSize:"12px"},children:"Forget Password ?"})})]}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(x.Z,{variant:"contained",color:"primary",type:"submit",fullWidth:!0,children:(0,o.jsx)(p.Z,{fontSize:12,children:"Login Now"})})})]}),(0,o.jsx)(c.Z,{children:(0,o.jsxs)(c.Z,{textAlign:"center",mt:4,children:[(0,o.jsxs)(p.Z,{variant:"p",fontSize:12,children:["Don","’","t have an account?"]}),(0,o.jsx)(p.Z,{component:"span",color:"primary",onClick:()=>r.push("/auth/register"),sx:{cursor:"pointer",fontSize:12,ml:.5,borderBottom:"1px solid",fontWeight:600},children:"SIGNUP"})]})})]})})]})})]})})}),(0,o.jsx)(I,{title:"Forget Password",open:l,onClose:()=>s()})]})}}}]);