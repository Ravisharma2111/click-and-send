(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6392],{42761:function(e,i,n){"use strict";var t=n(64836);i.Z=void 0;var r=t(n(64938)),l=n(85893),s=(0,r.default)((0,l.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");i.Z=s},4973:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/driver/job_history",function(){return n(67833)}])},67833:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return H}});var t=n(85893),r=n(26107),l=n(28482),s=n(83590),o=n(6049),c=n(38308),d=n(79582),a=n(42761),h=n(87357),x=n(46574),j=n(86886),u=n(51233),p=n(15861),m=n(66242),Z=n(67720),g=n(44267),v=n(69417),f=n(70872),y=n(6964),w=n(64666),b=n(31425),S=n(21023),I=n(93946),C=n(11163),z=n(67294),_=n(37958),k=n(61659),W=n(17857);n(63763);var E=n(21425),P=n(69468),N=n(67998),D=n(23984),B=n(24051),R=n(27108),T=n(5222),F=n(30381),A=n.n(F),M=e=>{let{formik:i}=e,n=(0,C.useRouter)(),r=(0,N.I0)(),{jobHistory:{pageCount:l,data:s,page:o,pageSize:F}}=(0,N.v9)(e=>e.driverJob),{user:M}=(0,E.E)(),[Y,H]=(0,z.useState)(!1),[J,L]=z.useState(!1),[O,V]=z.useState(!1),[X,q]=z.useState("new"),[G,Q]=z.useState([]),[$,K]=(0,z.useState)(null),[U,ee]=z.useState({}),[ei,en]=z.useState(""),[et,er]=z.useState("");return z.useEffect(()=>{r((0,D.M_)({user_id:null==M?void 0:M.id,type:null==M?void 0:M.user_type,lat:0,long:0,search:ei,date:et?A()(et).format("YYYY-MM-DD h:mm:ss"):""}))},[o,F,et,ei]),(0,t.jsxs)(z.Fragment,{children:[(0,t.jsx)(h.Z,{py:3,pb:12,children:(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(h.Z,{py:5,children:(0,t.jsx)(P.Z,{})}),(0,t.jsx)(h.Z,{py:2,children:(0,t.jsx)(j.ZP,{container:!0,spacing:2,children:(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(p.Z,{fontSize:"1.75rem",fontWeight:600,color:"primary",children:"Job History"}),(0,t.jsx)(h.Z,{borderRadius:"50%",border:"1px solid",borderColor:e=>e.palette.primary.main,color:e=>e.palette.primary.main,py:.6,px:1.8,children:(0,t.jsx)(p.Z,{fontSize:"1.3rem",fontWeight:500,color:"primary",children:(0,t.jsx)(W.ZP,{start:0,duration:1,end:s&&s.length})})})]}),(0,t.jsx)(h.Z,{children:(0,t.jsxs)(u.Z,{direction:"row",spacing:2,children:[(0,t.jsx)(c.zC,{fullWidth:!0,name:"search",value:ei,onChange:e=>en(e.target.value),endIcon:(0,t.jsx)(a.Z,{}),placeholder:"Search"}),(0,t.jsx)(c.zC,{fullWidth:!0,name:"date",value:et,onChange:e=>er(e.target.value),type:"date"})]})})]})})})}),(0,t.jsxs)(h.Z,{py:2,sx:{background:" "},children:[(0,t.jsx)(j.ZP,{container:!0,rowSpacing:0,justifyContent:"center",children:s&&s.length>0?s.map((e,i)=>{var r,l,s,o,c,a,x,f,y,w,b;let S=(null==e?void 0:e.items)&&(null==e?void 0:null===(r=e.items)||void 0===r?void 0:r.length)>0&&(null==e?void 0:e.items[0]);return(null==e?void 0:e.items)&&(null==e?void 0:null===(l=e.items)||void 0===l?void 0:l.length)>0&&(null==e||e.items[0]),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsxs)(m.Z,{sx:{my:2,borderWidth:"2px",":hover":{borderColor:"#ff7534",transition:" all 0.3s ease-in-out"}},variant:"outlined",children:[(0,t.jsx)(u.Z,{direction:"row",justifyContent:"space-between",px:2,py:1.4,alignItems:"center",children:(0,t.jsx)(h.Z,{sx:{width:"90%"},children:(0,t.jsx)(T.Z,{line:2,color:"common.black",fontSize:17,children:null==e?void 0:e.description})})}),(0,t.jsx)(Z.Z,{}),(0,t.jsxs)(g.Z,{children:[(0,t.jsxs)(j.ZP,{container:!0,spacing:2,alignItems:"start",children:[(0,t.jsxs)(j.ZP,{item:!0,md:4,children:[(0,t.jsx)(h.Z,{children:(0,t.jsx)(T.Z,{line:2,color:"common.black",fontSize:28,fontWeight:500,children:e.name})}),(0,t.jsxs)(u.Z,{direction:"row",spacing:2,mb:2,children:[(0,t.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:.6,children:[(0,t.jsx)(u.Z,{alignItems:"center",children:(0,t.jsx)(d.Z,{icon:"bx:layer",color:e=>e.palette.primary.main,width:22})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{fontSize:12,color:"grey",children:(null==e?void 0:e.items)&&(null==e?void 0:null===(s=e.items)||void 0===s?void 0:s.length)>0&&e.items[0].product.material})})]}),(0,t.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:.6,children:[(0,t.jsx)(u.Z,{alignItems:"center",children:(0,t.jsx)(d.Z,{icon:"gg:expand",color:e=>e.palette.primary.main,width:22})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{fontSize:12,color:"grey",children:"".concat((null==e?void 0:e.items)&&(null==e?void 0:null===(o=e.items)||void 0===o?void 0:o.length)>0&&e.items[0].product.length,"*").concat((null==e?void 0:e.items)&&(null==e?void 0:null===(c=e.items)||void 0===c?void 0:c.length)>0&&e.items[0].product.width,"*").concat((null==e?void 0:e.items)&&(null==e?void 0:null===(a=e.items)||void 0===a?void 0:a.length)>0&&e.items[0].product.height)})})]}),(0,t.jsxs)(u.Z,{direction:"row",alignItems:"center",spacing:.6,children:[(0,t.jsx)(u.Z,{alignItems:"center",children:(0,t.jsx)(d.Z,{icon:"uil:weight",color:e=>e.palette.primary.main,width:22})}),(0,t.jsx)(h.Z,{children:(0,t.jsxs)(p.Z,{fontSize:12,color:"grey",children:[(null==e?void 0:e.items)&&(null==e?void 0:null===(x=e.items)||void 0===x?void 0:x.length)>0&&e.items[0].product.quantity," ","Qty"]})})]})]}),(0,t.jsx)(u.Z,{direction:"row",spacing:1,children:e.items.map((e,i)=>i>2?"":(0,t.jsx)(z.Fragment,{children:(0,t.jsx)(h.Z,{component:"img",alt:e.product.image,src:"".concat(e.product.base_url).concat(e.product.image),sx:{width:"83px",height:"59px",border:"1px solid lightgrey",objectFit:"fill",borderRadius:"4px",backgroundSize:"cover",backgroundRepeat:"no-repeat"}})},i))})]}),(0,t.jsx)(j.ZP,{item:!0,md:6,children:(0,t.jsxs)(u.Z,{direction:"row",spacing:3,divider:(0,t.jsx)(Z.Z,{orientation:"vertical",flexItem:!0}),children:[(0,t.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{fontSize:13,fontWeight:600,children:"Pick up Date"})}),(0,t.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(h.Z,{sx:{backgroundColor:"#FEE6BB",width:"28px",height:"28px",borderRadius:"50%",p:"5px"},children:(0,t.jsx)(d.Z,{color:e=>e.palette.primary.main,icon:"majesticons:calendar-line"})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{color:"grey",fontWeight:400,fontSize:13,children:(null==S?void 0:null===(f=S.product)||void 0===f?void 0:f.pickup_date)||"N/A"})})]})]}),(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{fontSize:13,fontWeight:600,children:"Pick up Time"})}),(0,t.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(h.Z,{sx:{backgroundColor:"#FEE6BB",width:"28px",height:"28px",borderRadius:"50%",p:"5px"},children:(0,t.jsx)(d.Z,{color:e=>e.palette.primary.main,icon:"majesticons:calendar-line"})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{color:"grey",fontWeight:400,fontSize:13,children:(null==S?void 0:null===(y=S.product)||void 0===y?void 0:y.pickup_time)||"N/A"})})]})]})]}),(0,t.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,t.jsx)(h.Z,{children:(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(p.Z,{fontSize:13,fontWeight:600,children:"Delivery out Date"}),(0,t.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(h.Z,{sx:{backgroundColor:"#FEE6BB",width:"28px",height:"28px",borderRadius:"50%",p:"5px"},children:(0,t.jsx)(d.Z,{color:e=>e.palette.primary.main,icon:"majesticons:calendar-line"})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{color:"grey",fontWeight:400,fontSize:13,children:(null==S?void 0:null===(w=S.product)||void 0===w?void 0:w.drop_date)||"N/A"})})]})]})}),(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{fontSize:13,fontWeight:600,children:"Delivery out Time"})}),(0,t.jsxs)(u.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,t.jsx)(h.Z,{sx:{backgroundColor:"#FEE6BB",width:"28px",height:"28px",borderRadius:"50%",p:"5px"},children:(0,t.jsx)(d.Z,{color:e=>e.palette.primary.main,icon:"majesticons:calendar-line"})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(p.Z,{color:"grey",fontWeight:400,fontSize:13,children:(null==S?void 0:null===(b=S.product)||void 0===b?void 0:b.drop_time)||"N/A"})})]})]})]})]})}),(0,t.jsxs)(j.ZP,{item:!0,md:2,children:[(0,t.jsx)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:1,children:(0,t.jsx)(u.Z,{spacing:1,children:(0,t.jsx)(h.Z,{children:(0,t.jsx)(v.Z,{sx:{fontWeight:500},fullWidth:!0,variant:"outlined",startIcon:(0,t.jsx)(d.Z,{icon:"carbon:view-filled"}),onClick:()=>n.push("/dashboard/driver/job_history/detail/".concat(e.id)),children:"View Detail"})})})}),(0,t.jsx)(u.Z,{mt:1,position:"absolute",right:33})]})]}),(0,t.jsx)(Z.Z,{sx:{my:2}}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:(0,t.jsx)(p.Z,{variant:"subtitle2",sx:{display:"flex",alignItems:"flex-start"}})})})]})]})},i)}):(0,t.jsx)(h.Z,{my:4,children:(0,t.jsx)(p.Z,{variant:"h4",children:"No Job History"})})}),(0,t.jsx)(h.Z,{children:(0,t.jsx)(u.Z,{alignItems:"center",justifyContent:"center",children:(0,t.jsx)(f.Z,{count:l,color:"primary",page:o,onChange:(e,i)=>{r((0,D.LT)(i))},variant:"outlined",shape:"rounded",renderItem:e=>(0,t.jsx)(y.Z,{slots:{previous:()=>(0,t.jsx)(u.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(k.Z,{})}),next:()=>(0,t.jsx)(u.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(_.Z,{})})},...e})})})})]})]})}),(0,t.jsx)(w.Z,{fullScreen:!0,open:O,children:(0,t.jsxs)(h.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,t.jsx)(b.Z,{sx:{zIndex:9,padding:"12px !important",boxShadow:e=>e.customShadows.z8},children:(0,t.jsx)(S.Z,{title:"Close",children:(0,t.jsx)(I.Z,{color:"inherit",onClick:()=>V(!1),children:(0,t.jsx)(d.Z,{icon:"eva:close-fill"})})})}),(0,t.jsx)(h.Z,{sx:{flexGrow:1,height:"100%",overflow:"hidden"},children:(0,t.jsx)(B.Z$,{fileName:"Test-Name",width:"100%",height:"100%",style:{border:"none"},showToolbar:!1,children:(0,t.jsx)(R.Z,{jobDetail:$})})})]})})]})};let Y=()=>{let e=(0,l.TA)({initialValues:{month:0}});return(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(M,{formik:e}),(0,t.jsx)(o.Z,{})]})};Y.getLayout=function(e){return(0,t.jsx)(r.l,{children:e})};var H=Y}},function(e){e.O(0,[4885,1810,4186,1445,1111,5999,678,3827,1994,6034,4815,8251,4576,872,7857,3802,5981,6107,5324,2008,3769,9774,2888,179],function(){return e(e.s=4973)}),_N_E=e.O()}]);