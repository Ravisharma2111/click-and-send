(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4152],{15476:function(i,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/driver/track_job/[id]",function(){return r(85765)}])},6049:function(i,e,r){"use strict";var o=r(85893),s=r(21425),n=r(64666),t=r(6514),l=r(51233),d=r(15861),a=r(67720),c=r(31425),u=r(69417),h=r(11163),p=r(67294);e.Z=i=>{var e,r;let{children:x}=i,{user:v}=(0,s.E)(),j=(0,h.useRouter)(),[b,m]=p.useState(!0),f=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return p.useEffect(()=>{f.includes(null==j?void 0:j.route)?m(!1):m(!0)},[null==j?void 0:j.route]),(0,o.jsx)("div",{children:(null==v?void 0:null===(e=v.plan)||void 0===e?void 0:e.plan_id)?(0,o.jsxs)(n.Z,{open:(null==v||null===(r=v.plan)||void 0===r||!r.plan_id)&&b,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,o.jsx)(t.Z,{dividers:"paper",children:(0,o.jsx)(l.Z,{textAlign:"left",mt:2,children:(0,o.jsx)(d.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,o.jsx)(a.Z,{}),(0,o.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,o.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===j.route?j.push("company/subscription"):"/dashboard/driver/active_jobs"===j.route?j.push("subscription"):"/dashboard/customer"===j.route?j.push("/dashboard/customer/subscription"):"/driver/profile"===j.route?j.push("/dashboard/driver/subscription"):"/customer/profile"===j.route?j.push("/dashboard/customer/subscription"):"/company/profile"===j.route?j.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,o.jsx)(o.Fragment,{})})}},85765:function(i,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w}});var o=r(85893),s=r(83590),n=r(6049),t=r(26107),l=r(21425),d=r(15481),a=r(63763),c=r(87357),u=r(46574),h=r(69417),p=r(86886),x=r(66242),v=r(15861),j=r(67720),b=r(51233),m=r(67294),f=r(11163),Z=r(79582),g=()=>{let i=(0,f.useRouter)(),{query:e}=(0,f.useRouter)(),{id:r}=e,{user:s}=(0,l.E)(),[n,t]=(0,m.useState)([]),[g,y]=m.useState([]),_={id:r,driver_id:null==s?void 0:s.id},w=async()=>{await a.Z.post("api/auth/jobs/job-tasks",_).then(i=>{if(200===i.status){var e;t(i.data.view_data&&(null===(e=i.data.view_data)||void 0===e?void 0:e.length)>0?i.data.view_data:[])}}).catch(i=>console.log(i))};return(0,m.useEffect)(()=>{r&&(null==s?void 0:s.id)&&w()},[r,null==s?void 0:s.id]),m.useEffect(()=>{let i=[],e=[];n&&(null==n?void 0:n.length)>0&&n.forEach(r=>{r.forEach((r,o)=>{var s;(null==r?void 0:r.type)=="drop"?i[o]={from:{lat:null==r?void 0:r.lat,lng:null==r?void 0:r.long}}:(null==r?void 0:r.type)=="pickup"&&(i[o-1]={from:{...null===(s=i[o-1])||void 0===s?void 0:s.from},to:{lat:null==r?void 0:r.lat,lng:null==r?void 0:r.long}},e.push(...i))})}),y(e)},[n,null==n?void 0:n.length]),(0,o.jsx)(m.Fragment,{children:(0,o.jsx)(c.Z,{py:12,children:(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(c.Z,{my:1,children:(0,o.jsxs)(h.Z,{variant:"outlined",sx:{my:0},onClick:()=>i.push("/dashboard/driver/active_jobs"),children:[(0,o.jsx)(Z.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]})}),(0,o.jsx)(c.Z,{sx:{position:"relative",overflow:"hidden"},children:(0,o.jsxs)(p.ZP,{container:!0,children:[(0,o.jsx)(p.ZP,{item:!0,md:6,children:(0,o.jsxs)(x.Z,{sx:{position:"relative",pr:0,py:0,maxHeight:"92vh",overflowY:"scroll",height:"100%",borderRadius:"0px"},children:[(0,o.jsxs)(c.Z,{sx:{my:0,ml:0,position:"sticky",top:0,zIndex:1200,background:i=>i.palette.common.white},children:[(0,o.jsx)(v.Z,{component:"h3",variant:"h3",sx:{py:1},color:"primary",children:"Track Job"}),(0,o.jsx)(j.Z,{})]}),n.length>0&&n&&n.map(i=>i&&(null==i?void 0:i.length)>0&&i.map((i,e)=>(0,o.jsxs)(c.Z,{sx:{scrollSnapAlign:"start"},children:[(0,o.jsx)(x.Z,{sx:{p:2,mb:.5,borderRadius:"0px",boxShadow:"none"},children:(0,o.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:3,children:[(0,o.jsxs)(b.Z,{children:[(0,o.jsx)(c.Z,{children:(0,o.jsx)(v.Z,{fontWeight:500,textTransform:"uppercase",children:null==i?void 0:i.type})}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(v.Z,{color:"grey",children:null==i?void 0:i.address})})]}),(0,o.jsx)(c.Z,{children:(0,o.jsx)(h.Z,{variant:"outlined",color:"dark",size:"small",children:"View"})})]})}),(0,o.jsx)(j.Z,{})]},e)))]})}),(0,o.jsx)(p.ZP,{item:!0,md:6,children:(0,o.jsx)(d.Z,{data:g})})]})})]})})})},y=r(28482);let _=()=>{let i=(0,y.TA)({initialValues:{location:""}});return(0,o.jsxs)(s.Z,{children:[(0,o.jsx)(g,{formik:i}),(0,o.jsx)(n.Z,{})]})};_.getLayout=function(i){return(0,o.jsx)(t.l,{children:i})};var w=_}},function(i){i.O(0,[4885,1810,1255,678,3827,1994,6034,4815,8251,4576,5981,6107,5324,180,9774,2888,179],function(){return i(i.s=15476)}),_N_E=i.O()}]);