(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9474],{35648:function(e,i,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customer/driver_bid_list/[id]",function(){return n(22597)}])},6049:function(e,i,n){"use strict";var t=n(85893),r=n(21425),o=n(64666),s=n(6514),l=n(51233),a=n(15861),d=n(67720),c=n(31425),u=n(69417),h=n(11163),x=n(67294);i.Z=e=>{var i,n;let{children:p}=e,{user:j}=(0,r.E)(),v=(0,h.useRouter)(),[Z,f]=x.useState(!0),m=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return x.useEffect(()=>{m.includes(null==v?void 0:v.route)?f(!1):f(!0)},[null==v?void 0:v.route]),(0,t.jsx)("div",{children:(null==j?void 0:null===(i=j.plan)||void 0===i?void 0:i.plan_id)?(0,t.jsxs)(o.Z,{open:(null==j||null===(n=j.plan)||void 0===n||!n.plan_id)&&Z,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,t.jsx)(s.Z,{dividers:"paper",children:(0,t.jsx)(l.Z,{textAlign:"left",mt:2,children:(0,t.jsx)(a.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,t.jsx)(d.Z,{}),(0,t.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,t.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===v.route?v.push("company/subscription"):"/dashboard/driver/active_jobs"===v.route?v.push("subscription"):"/dashboard/customer"===v.route?v.push("/dashboard/customer/subscription"):"/driver/profile"===v.route?v.push("/dashboard/driver/subscription"):"/customer/profile"===v.route?v.push("/dashboard/customer/subscription"):"/company/profile"===v.route?v.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,t.jsx)(t.Fragment,{})})}},22597:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return N}});var t=n(85893),r=n(83590),o=n(6049),s=n(26107),l=n(38308),a=n(79582),d=n(50261),c=n(15481),u=n(63763),h=n(61659),x=n(37958),p=n(87357),j=n(46574),v=n(86886),Z=n(51233),f=n(15861),m=n(14564),g=n(53800),b=n(91440),y=n(67720),w=n(69417),S=n(88441),C=n(70872),_=n(6964),k=n(11994),z=n(11163),W=n(50841),P=n(46901),E=n(67294),D=()=>{let e=(0,z.useRouter)(),[i,n]=(0,E.useState)([]),[r,o]=E.useState(""),[s,D]=E.useState(!1),[I,A]=E.useState(""),[N,B]=E.useState(0),[R,F]=E.useState(1),[O,q]=E.useState(1),[T,L]=E.useState(10),[M,G]=(0,E.useState)(0),[H,V]=(0,E.useState)(!1),[X,Y]=E.useState([]),[J,K]=E.useState([]),[Q,U]=E.useState(null),$=()=>{U(null)},ee=!!Q,ei=ee?"simple-popover":void 0,{enqueueSnackbar:en}=(0,W.Ds)(),et=async()=>{await u.Z.get("api/auth/jobs/job-bids/".concat(e.query.id),{params:{sort:N||"",search:I,price:M}}).then(e=>{if(V(!0),200===e.status){var i;V(!1),n(null===(i=e.data)||void 0===i?void 0:i.view_data)}}).catch(e=>{V(!1),console.log(e)})};(0,E.useEffect)(()=>{e.query.id&&et()},[e.query.id,I,N,M]);let er=async()=>{await u.Z.get("api/auth/master/jobs/edit/".concat(e.query.id)).then(e=>{if(V(!0),200===e.status){var i;V(!1),K(null===(i=e.data)||void 0===i?void 0:i.view_data)}}).catch(e=>{V(!1),console.log(e)})};(0,E.useEffect)(()=>{e.query.id&&er()},[e.query.id]),E.useEffect(()=>{var e;let i=[],n=[];(null==J?void 0:J.items)&&(null==J?void 0:null===(e=J.items)||void 0===e?void 0:e.length)>0&&(null==J||J.items.forEach(e=>{var t;(null==e?void 0:e.address)&&(null==e?void 0:null===(t=e.address)||void 0===t?void 0:t.length)>0&&(null==e||e.address.forEach((t,r)=>{var o;(null==t?void 0:t.type)=="drop"?i[r]={data:e,from:{lat:null==t?void 0:t.lat,lng:null==t?void 0:t.long}}:(null==t?void 0:t.type)=="pickup"&&(i[r-1]={from:{...null===(o=i[r-1])||void 0===o?void 0:o.from},to:{lat:null==t?void 0:t.lat,lng:null==t?void 0:t.long}},n.push(...i))}))})),Y(n)},[J,null==J?void 0:J.length]);let eo=async i=>{await u.Z.get("api/auth/jobs/accept-bid/".concat(i)).then(i=>{var n,r;200===i.status?(e.push("/dashboard/customer/job_posted"),en((0,t.jsx)(P.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})):en((0,t.jsx)(P.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})}).catch(e=>{console.log(e)})};return(0,t.jsxs)(E.Fragment,{children:[(0,t.jsx)(p.Z,{py:4,sx:{mt:10},pb:12,children:(0,t.jsx)(j.Z,{children:(0,t.jsxs)(v.ZP,{container:!0,spacing:2,children:[H?(0,t.jsx)(v.ZP,{item:!0,md:6,children:(0,t.jsx)(d.Z,{})}):(0,t.jsx)(v.ZP,{item:!0,md:6,children:(0,t.jsxs)(Z.Z,{sx:{height:"100%"},justifyContent:"space-between",children:[(0,t.jsxs)(Z.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsxs)(Z.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,t.jsx)(Z.Z,{alignItems:"center",onClick:()=>e.push("/dashboard/customer/job_posted"),mr:2,sx:{cursor:"pointer",border:e=>"2px solid ".concat(e.palette.primary.main),borderRadius:"50%"},width:30,height:30,children:(0,t.jsx)(a.Z,{icon:"ep:back",width:30,color:e=>e.palette.primary.main})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{fontSize:28,color:"primary",fontWeight:600,children:"Applied Bids"})})]}),(0,t.jsxs)(Z.Z,{direction:"row",alignItems:"center",spacing:2,className:"flexDirection",children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(l.jL,{formSx:{marginBottom:0},sx:{borderRadius:"3em",height:"26px",fontSize:"12px",fontWeight:500},fullWidth:!0,size:"small",color:"#fff",value:N,onChange:e=>B(e.target.value),options:[{label:"Sort(Default)",value:0},{label:"Sort(New)",value:"DESC"},{label:"Sort(Last)",value:"ASC"}]})}),(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(a.Z,{onClick:e=>{U(e.currentTarget)},"aria-describedby":ei,icon:"lucide:filter",width:24,sx:{cursor:"pointer"},color:e=>e.palette.primary.main}),(0,t.jsx)(m.ZP,{id:ei,open:ee,anchorEl:Q,onClose:$,anchorReference:"anchorPosition",sx:{width:"40em"},anchorPosition:{top:150,left:370},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,t.jsxs)(p.Z,{px:2,py:2,children:[(0,t.jsx)(Z.Z,{direction:"column",spacing:2,children:(0,t.jsxs)(Z.Z,{spacing:2,children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(l.zC,{fullWidth:!0,size:"small",value:I,endIcon:(0,t.jsx)(a.Z,{icon:"iconamoon:search-bold"}),placeholder:"Search",onChange:e=>A(e.target.value)})}),(0,t.jsxs)(p.Z,{children:[(0,t.jsxs)(Z.Z,{direction:"row",justifyContent:"space-between",children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{fontSize:14,fontWeight:500,children:"Price"})}),(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{fontSize:14,fontWeight:500,children:["\xa3",M]})})]}),(0,t.jsx)(g.ZP,{size:"large",value:"number"==typeof M?M:0,onChange:e=>{G(e.target.value)}})]}),(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(p.Z,{mb:.6,children:(0,t.jsx)(f.Z,{fontSize:14,fontWeight:500,children:"Rating"})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(p.Z,{children:(0,t.jsx)(b.Z,{sx:{color:"#FBBC04"}})})})]})]})}),(0,t.jsx)(y.Z,{sx:{my:2}}),(0,t.jsxs)(Z.Z,{direction:"row",spacing:1,justifyContent:"end",children:[(0,t.jsx)(w.Z,{color:"dark",onClick:$,children:"Cancel"}),(0,t.jsx)(w.Z,{variant:"contained",children:"Filter"})]})]})})]})]})]}),(0,t.jsx)(p.Z,{sx:{flexGrow:i&&i.length>0?1:0},children:i&&i.length>0?i.map((e,i)=>{var n,r,s,l;let d=parseFloat(null==e?void 0:e.ammount),c=d+.1*d;return(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(y.Z,{sx:{my:2}}),(0,t.jsxs)(v.ZP,{className:"dashboard_driverBid_Grid_responsive",container:!0,spacing:2,children:[(0,t.jsx)(v.ZP,{item:!0,md:2,children:(0,t.jsx)(p.Z,{component:"img",alt:null==e?void 0:null===(n=e.driver)||void 0===n?void 0:n.profile_img,src:"".concat(null==e?void 0:null===(r=e.driver)||void 0===r?void 0:r.base_url).concat(null==e?void 0:null===(s=e.driver)||void 0===s?void 0:s.profile_img),sx:{borderRadius:"50%",width:"65px",objectFit:"cover",height:"65px",border:"1px solid #f2f2f2"}})}),(0,t.jsx)(v.ZP,{item:!0,md:10,children:(0,t.jsxs)(Z.Z,{direction:"column",children:[(0,t.jsx)(p.Z,{pb:.3,children:(0,t.jsxs)(Z.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{fontSize:16,fontWeight:500,children:null==e?void 0:null===(l=e.driver)||void 0===l?void 0:l.user_name})}),(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{fontSize:16,fontWeight:600,children:["\xa3 ",c+.2*c]})}),(0,t.jsx)(Z.Z,{direction:"row",spacing:1,children:(0,t.jsx)(w.Z,{sx:{cursor:(null==e?void 0:e.status)===4?"not-allowed":"pointer"},icon:(0,t.jsx)(a.Z,{icon:"material-symbols:check-circle"}),variant:"contained",onClick:()=>(null==e?void 0:e.status)!==1&&(null==e?void 0:e.status)!==4&&(null==e?void 0:e.status)!==2&&(null==e?void 0:e.status)!==3&&o(null==e?void 0:e.id),children:(null==e?void 0:e.status)===1||(null==e?void 0:e.status)===2||(null==e?void 0:e.status)===3?"Accepted":(null==e?void 0:e.status)===4?"Declined":"Accept"})})]})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(b.Z,{value:null==e?void 0:e.rating,readOnly:!0,size:"small",sx:{color:"#FBBC04"}})})]})})]}),(0,t.jsx)(Z.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",pt:2,children:(0,t.jsxs)(Z.Z,{children:[(0,t.jsxs)(Z.Z,{direction:"row",spacing:.4,children:[(0,t.jsx)(p.Z,{children:(0,t.jsx)(f.Z,{color:"#5D5D5D",fontSize:14,fontWeight:400,children:"Job Success Rate :"})}),(0,t.jsx)(p.Z,{children:(0,t.jsxs)(f.Z,{color:"#5D5D5D",fontSize:14,fontWeight:600,g:!0,children:[null==e?void 0:e.jobpercent," %"]})})]}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(S.Z,{variant:"determinate",value:null==e?void 0:e.jobpercent})})]})}),(0,t.jsx)(y.Z,{sx:{my:2}})]},i)}):(0,t.jsx)(p.Z,{textAlign:"center",py:6,children:(0,t.jsx)(f.Z,{variant:"h4",children:"No Bids Yet !"})})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(Z.Z,{alignItems:"center",justifyContent:"center",children:(0,t.jsx)(C.Z,{count:O,color:"primary",page:R,onChange:(e,i)=>{F(i)},variant:"outlined",shape:"rounded",renderItem:e=>(0,t.jsx)(_.Z,{slots:{previous:()=>(0,t.jsx)(Z.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(h.Z,{})}),next:()=>(0,t.jsx)(Z.Z,{direction:"row",spacing:.5,alignItems:"center",children:(0,t.jsx)(x.Z,{})})},...e})})})})]})}),(0,t.jsx)(v.ZP,{item:!0,md:6,children:(0,t.jsx)(p.Z,{sx:{position:"sticky",top:75,display:"block"},children:(0,t.jsx)(c.Z,{data:X})})})]})})}),(0,t.jsx)(p.Z,{children:(0,t.jsx)(k.Z,{open:r,onClose:()=>o(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,t.jsxs)(p.Z,{sx:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"1px solid #f5f5f5",boxShadow:24,p:4},children:[(0,t.jsx)(f.Z,{id:"modal-modal-title",variant:"h6",component:"h2",pb:2,children:"Are you sure you want to Accept Bid?"}),(0,t.jsxs)(Z.Z,{direction:"row",spacing:8,children:[(0,t.jsx)(w.Z,{fullWidth:!0,variant:"outlined",onClick:()=>eo(r),children:"Yes"}),(0,t.jsx)(w.Z,{fullWidth:!0,variant:"outlined",onClick:()=>o(!1),children:"No"})]})]})})})]})},I=n(28482);let A=()=>{let e=(0,I.TA)({});return(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(D,{formik:e}),(0,t.jsx)(o.Z,{})]})};A.getLayout=function(e){return(0,t.jsx)(s.l,{children:e})};var N=A}},function(e){e.O(0,[4885,1810,1255,678,3827,1994,6034,4815,8251,4576,872,1440,7747,5981,6107,5324,180,9774,2888,179],function(){return e(e.s=35648)}),_N_E=e.O()}]);