(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3531],{69299:function(i,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customer/company/job_history/detail/[id]",function(){return n(61043)}])},83590:function(i,e,n){"use strict";n.d(e,{Z:function(){return x}});var l=n(85893),r=n(45697),o=n.n(r),t=n(67294),d=n(11163),s=n(21425),a=n(94717);n(26107);var c=n(50261),u=n(87357),h=n(46574);function x(i){let{children:e}=i,{isAuthenticated:n,isInitialized:r}=(0,s.E)(),{pathname:o,push:x}=(0,d.useRouter)(),[p,v]=(0,t.useState)(null);return((0,t.useEffect)(()=>{p&&o!==p&&x(p),n&&v(null)},[n,o,x,p]),r)?n?(0,l.jsxs)(l.Fragment,{children:[" ",e," "]}):(o!==p&&v(o),(0,l.jsx)(a.Z,{})):(0,l.jsx)(u.Z,{mt:10,children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(c.Z,{})})})}x.propTypes={children:o().node}},6049:function(i,e,n){"use strict";var l=n(85893),r=n(21425),o=n(64666),t=n(6514),d=n(51233),s=n(15861),a=n(67720),c=n(31425),u=n(69417),h=n(11163),x=n(67294);e.Z=i=>{var e,n;let{children:p}=i,{user:v}=(0,r.E)(),j=(0,h.useRouter)(),[m,Z]=x.useState(!0),b=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return x.useEffect(()=>{b.includes(null==j?void 0:j.route)?Z(!1):Z(!0)},[null==j?void 0:j.route]),(0,l.jsx)("div",{children:(null==v?void 0:null===(e=v.plan)||void 0===e?void 0:e.plan_id)?(0,l.jsxs)(o.Z,{open:(null==v||null===(n=v.plan)||void 0===n||!n.plan_id)&&m,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,l.jsx)(t.Z,{dividers:"paper",children:(0,l.jsx)(d.Z,{textAlign:"left",mt:2,children:(0,l.jsx)(s.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,l.jsx)(a.Z,{}),(0,l.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,l.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===j.route?j.push("company/subscription"):"/dashboard/driver/active_jobs"===j.route?j.push("subscription"):"/dashboard/customer"===j.route?j.push("/dashboard/customer/subscription"):"/driver/profile"===j.route?j.push("/dashboard/driver/subscription"):"/customer/profile"===j.route?j.push("/dashboard/customer/subscription"):"/company/profile"===j.route?j.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,l.jsx)(l.Fragment,{})})}},61043:function(i,e,n){"use strict";n.r(e),n.d(e,{default:function(){return z}});var l=n(85893),r=n(26107),o=n(83590),t=n(21425),d=n(38308),s=n(79582),a=n(63763),c=n(87357),u=n(46574),h=n(69417),x=n(66242),p=n(15861),v=n(67720),j=n(44267),m=n(51233),Z=n(72882),b=n(7906),g=n(53184),f=n(53816),y=n(53252),w=n(295),_=n(11994),k=n(64666),C=n(6514),S=n(91440),W=n(28482),R=n(11163),D=n(50841),E=n(46901),A=n(67294),N=()=>{var i,e,n,r;let o=(0,R.useRouter)(),{user:N}=(0,t.E)(),{enqueueSnackbar:P}=(0,D.Ds)(),{id:T}=o.query,[z,q]=(0,A.useState)([]),[F,V]=(0,A.useState)([]),[M,I]=A.useState(!1),[L,O]=(0,A.useState)(!1),B=(0,W.TA)({initialValues:{job_id:"",user_id:"",given_by:"customer",rating:"",review:""},validate:i=>{let e={};return i.review||(e.review="Note is required"),i.rating||(e.rating="Rating is required"),e},onSubmit:async i=>{await a.Z.post("api/auth/rating/add",B.values).then(i=>{if(200===i.status){var e;B.handleReset(),I(!1),P((0,l.jsx)(E.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),H(),handleClose(!0)}}).catch(i=>{console.log(i)})}}),H=async()=>{await a.Z.get("api/auth/jobs/view/".concat(T)).then(i=>{var e,n,l,r;(null==i?void 0:i.status)===200&&(q(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.view_data),V(null==i?void 0:null===(r=i.data)||void 0===r?void 0:null===(l=r.view_data)||void 0===l?void 0:null===(n=l.job)||void 0===n?void 0:n.ratings))}).catch(i=>{console.log("RatignList",i)})};return A.useEffect(()=>{T&&H()},[T]),(0,A.useEffect)(()=>{B.setFieldValue("user_id",null==N?void 0:N.id),B.setFieldValue("job_id",T)},[N,null==N?void 0:N.id,T]),(0,l.jsxs)(A.Fragment,{children:[(0,l.jsx)(c.Z,{mt:10,pb:12,children:(0,l.jsx)(u.Z,{children:(0,l.jsxs)(c.Z,{my:4,children:[(0,l.jsxs)(h.Z,{variant:"outlined",sx:{my:2},onClick:()=>o.push("/dashboard/company/job_history"),children:[(0,l.jsx)(s.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]}),(0,l.jsxs)(x.Z,{sx:{position:"relative"},children:[(0,l.jsx)(p.Z,{textAlign:"center",variant:"h6",my:1,fontSize:17,children:"Job Detail"}),(0,l.jsx)(v.Z,{}),(0,l.jsxs)(j.Z,{children:[(0,l.jsx)(p.Z,{variant:"h4",component:"h4",textAlign:"center",children:null==z?void 0:null===(i=z.job)||void 0===i?void 0:i.name}),(0,l.jsxs)(m.Z,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,my:1,children:[(0,l.jsx)(p.Z,{component:"p",variant:"body2",fontWeight:500,children:"Vehicle Requirment:"}),(0,l.jsx)(p.Z,{component:"p",variant:"body2",fontWeight:600,children:null==z?void 0:null===(e=z.job)||void 0===e?void 0:e.vehicle})]}),(0,l.jsx)(v.Z,{sx:{my:4}}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(p.Z,{component:"p",variant:"body1",fontWeight:500,textAlign:"center",mb:2,children:"Pickup Details"}),(0,l.jsx)(Z.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.primary.main},children:(0,l.jsxs)(b.Z,{"aria-label":"simple table",sx:{minWidth:"100%"},children:[(0,l.jsx)(g.Z,{children:(0,l.jsxs)(f.Z,{children:[(0,l.jsx)(y.Z,{align:"left",children:"Address"}),(0,l.jsx)(y.Z,{align:"left",children:"Pickup Date"}),(0,l.jsx)(y.Z,{align:"left",children:"Pickup Time"}),(0,l.jsx)(y.Z,{align:"left",children:"L*W*H"}),(0,l.jsx)(y.Z,{align:"left",children:"Quantity"}),(0,l.jsx)(y.Z,{align:"left",children:"Image"}),(0,l.jsx)(y.Z,{align:"left",children:"Material"})]})}),(0,l.jsx)(w.Z,{children:(null==z?void 0:z.pickup)&&(null==z?void 0:null===(n=z.pickup)||void 0===n?void 0:n.length)>0&&(null==z?void 0:z.pickup.map((i,e)=>{var n,r,o,t,d,s,a,u,h;return(0,l.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(y.Z,{component:"th",scope:"row",children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:i.address})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(n=i.item)||void 0===n?void 0:n.pickup_date})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(r=i.item)||void 0===r?void 0:r.pickup_time})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:"".concat(null==i?void 0:null===(o=i.item)||void 0===o?void 0:o.length," * ").concat(null==i?void 0:null===(t=i.item)||void 0===t?void 0:t.width," * ").concat(null==i?void 0:null===(d=i.item)||void 0===d?void 0:d.height)})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(s=i.item)||void 0===s?void 0:s.quantity})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(c.Z,{children:(0,l.jsx)(c.Z,{component:"img",m:"auto",src:"".concat(null==i?void 0:null===(a=i.item)||void 0===a?void 0:a.base_url).concat(null==i?void 0:null===(u=i.item)||void 0===u?void 0:u.image),width:80})})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(h=i.item)||void 0===h?void 0:h.material})})]},"jobDetail".concat(e))}))})]})})]}),(0,l.jsx)(v.Z,{sx:{my:4}}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(p.Z,{component:"p",variant:"body1",fontWeight:500,textAlign:"center",mb:2,children:"Delivery Details"}),(0,l.jsx)(Z.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.primary.main},children:(0,l.jsxs)(b.Z,{"aria-label":"simple table",sx:{minWidth:"100%"},children:[(0,l.jsx)(g.Z,{children:(0,l.jsxs)(f.Z,{children:[(0,l.jsx)(y.Z,{align:"left",children:"Address"}),(0,l.jsx)(y.Z,{align:"left",children:"Delivery Date"}),(0,l.jsx)(y.Z,{align:"left",children:"Delivery Time"}),(0,l.jsx)(y.Z,{align:"left",children:"Quantity"})]})}),(0,l.jsx)(w.Z,{children:(null==z?void 0:z.drop)&&(null==z?void 0:null===(r=z.drop)||void 0===r?void 0:r.length)>0&&(null==z?void 0:z.drop.map((i,e)=>{var n,r,o;return(0,l.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(y.Z,{component:"th",scope:"row",children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:i.address})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(n=i.item)||void 0===n?void 0:n.drop_date})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(r=i.item)||void 0===r?void 0:r.drop_time})}),(0,l.jsx)(y.Z,{children:(0,l.jsx)(p.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(o=i.item)||void 0===o?void 0:o.quantity})})]},"jobDetail".concat(e))}))})]})})]})]})]})]})})}),(0,l.jsx)(_.Z,{open:L,onClose:()=>O(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",bgcolor:"background.paper",boxShadow:24,borderRadius:"10px",p:4},children:(0,l.jsx)(Z.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.grey[300]},children:(0,l.jsxs)(b.Z,{"aria-label":"simple table",children:[(0,l.jsx)(g.Z,{children:(0,l.jsxs)(f.Z,{children:[(0,l.jsx)(y.Z,{align:"left",children:"Sr. No."}),(0,l.jsx)(y.Z,{align:"left",children:"Address"})]})}),(0,l.jsx)(w.Z,{children:L&&(null==L?void 0:L.length)>0&&L.map((i,e)=>(0,l.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(y.Z,{component:"th",scope:"row",children:(0,l.jsx)(p.Z,{children:e+1})}),(0,l.jsx)(y.Z,{align:"left",children:(0,l.jsx)(p.Z,{sx:{maxWidth:"52em",wordWrap:"break-word"},children:null==i?void 0:i.address})})]},"jobDetail".concat(e)))})]})})})}),(0,l.jsx)(k.Z,{open:M,onClose:i=>I(i),maxWidth:"xs",fullWidth:!0,children:(0,l.jsx)(C.Z,{sx:{my:3},children:(0,l.jsxs)(c.Z,{component:"form",noValidate:!0,onSubmit:B.handleSubmit,children:[(0,l.jsx)(c.Z,{align:"right",children:(0,l.jsx)(s.Z,{icon:"basil:cross-solid",width:20,onClick:()=>I(!1),sx:{border:"1px solid grey",borderRadius:"50%",cursor:"pointer"}})}),(0,l.jsx)(p.Z,{mb:2,variant:"subtitle1",children:"Review"}),(0,l.jsxs)(m.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(S.Z,{value:B.values.rating,onChange:B.handleChange,name:"rating",helperText:B.touched.rating&&B.errors.rating})}),(0,l.jsx)(c.Z,{children:(0,l.jsx)(d.zC,{size:"small",name:"review",label:"Review",fullWidth:!0,multiline:!0,rows:"4",value:B.values.review,onChange:B.handleChange,helperText:B.touched.review&&B.errors.review})})]}),(0,l.jsx)(m.Z,{direction:"row",spacing:8,children:(0,l.jsx)(h.Z,{fullWidth:!0,variant:"outlined",type:"submit",children:"Submit"})})]})})})]})},P=n(6049);let T=()=>(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(N,{}),(0,l.jsx)(P.Z,{})]});T.getLayout=function(i){return(0,l.jsx)(r.l,{children:i})};var z=T}},function(i){i.O(0,[4885,1810,678,3827,1994,6034,4815,8251,4576,1440,659,5981,6107,5324,9774,2888,179],function(){return i(i.s=69299)}),_N_E=i.O()}]);