(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2541],{50594:function(i,e,n){"use strict";var l=n(64836);e.Z=void 0;var o=l(n(64938)),r=n(85893),d=(0,o.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=d},55909:function(i,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/driver/view_job/[id]",function(){return n(62267)}])},6049:function(i,e,n){"use strict";var l=n(85893),o=n(21425),r=n(64666),d=n(6514),t=n(51233),s=n(15861),a=n(67720),c=n(31425),u=n(69417),h=n(11163),x=n(67294);e.Z=i=>{var e,n;let{children:p}=i,{user:v}=(0,o.E)(),j=(0,h.useRouter)(),[m,Z]=x.useState(!0),b=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return x.useEffect(()=>{b.includes(null==j?void 0:j.route)?Z(!1):Z(!0)},[null==j?void 0:j.route]),(0,l.jsx)("div",{children:(null==v?void 0:null===(e=v.plan)||void 0===e?void 0:e.plan_id)?(0,l.jsxs)(r.Z,{open:(null==v||null===(n=v.plan)||void 0===n||!n.plan_id)&&m,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,l.jsx)(d.Z,{dividers:"paper",children:(0,l.jsx)(t.Z,{textAlign:"left",mt:2,children:(0,l.jsx)(s.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,l.jsx)(a.Z,{}),(0,l.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,l.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===j.route?j.push("company/subscription"):"/dashboard/driver/active_jobs"===j.route?j.push("subscription"):"/dashboard/customer"===j.route?j.push("/dashboard/customer/subscription"):"/driver/profile"===j.route?j.push("/dashboard/driver/subscription"):"/customer/profile"===j.route?j.push("/dashboard/customer/subscription"):"/company/profile"===j.route?j.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,l.jsx)(l.Fragment,{})})}},62267:function(i,e,n){"use strict";n.r(e),n.d(e,{default:function(){return I}});var l=n(85893),o=n(83590),r=n(6049),d=n(26107),t=n(79582),s=n(15481),a=n(63763),c=n(50594),u=n(87357),h=n(69417),x=n(64666),p=n(6514),v=n(66242),j=n(93946),m=n(46574),Z=n(86886),b=n(15861),f=n(67720),g=n(51233),y=n(67294),k=i=>{let{id:e}=i,[n,o]=y.useState(!1),[r,d]=y.useState([]),[k,w]=y.useState([]),_=()=>o(!1),W=async()=>{await a.Z.get("api/auth/jobs/job-address/".concat(e)).then(i=>{if(200===i.status){var e;w((null==i?void 0:i.data)&&(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.view_data))}}).catch(i=>{console.log("MapDataError",i)})};return y.useEffect(()=>{e&&W()},[e]),console.log("mapData",r),y.useEffect(()=>{let i=[],e=[];k&&(null==k?void 0:k.length)>0&&k.forEach(n=>{n.forEach((n,l)=>{var o;(null==n?void 0:n.type)=="drop"?i[l]={from:{lat:null==n?void 0:n.lat,lng:null==n?void 0:n.long}}:(null==n?void 0:n.type)=="pickup"&&(i[l-1]={from:{...null===(o=i[l-1])||void 0===o?void 0:o.from},to:{lat:null==n?void 0:n.lat,lng:null==n?void 0:n.long}},e.push(...i))})}),d(e)},[k,null==k?void 0:k.length]),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(h.Z,{color:"secondary",fullWidth:!0,variant:"outlined",startIcon:(0,l.jsx)(t.Z,{icon:"carbon:map"}),onClick:()=>o(!0),sx:{fontWeight:500},children:"Map"}),(0,l.jsx)(x.Z,{open:n,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",fullWidth:!0,maxWidth:"md",fullScreen:!0,children:(0,l.jsxs)(p.Z,{sx:{height:"90vh",py:2},children:[(0,l.jsx)(u.Z,{sx:{position:"absolute",right:25,top:10},children:(0,l.jsx)(v.Z,{variant:"outlined",sx:{borderRadius:"50%"},onClick:()=>_(),children:(0,l.jsx)(j.Z,{size:"small",children:(0,l.jsx)(c.Z,{fontSize:"small"})})})}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(u.Z,{children:(0,l.jsx)(m.Z,{children:(0,l.jsx)(u.Z,{sx:{position:"relative",overflow:"hidden"},children:(0,l.jsxs)(Z.ZP,{container:!0,children:[(0,l.jsx)(Z.ZP,{item:!0,md:6,children:(0,l.jsxs)(v.Z,{sx:{position:"relative",pr:0,py:0,maxHeight:"100%",overflowY:"scroll",height:"100%",borderRadius:"0px"},children:[(0,l.jsxs)(u.Z,{sx:{position:"sticky",top:0,zIndex:1200,background:i=>i.palette.common.white},children:[(0,l.jsx)(b.Z,{component:"h3",variant:"h3",sx:{py:1},color:"primary",children:"Track Job"}),(0,l.jsx)(f.Z,{})]}),k.length>0&&k&&k.map(i=>i&&(null==i?void 0:i.length)>0&&i.map((i,e)=>(0,l.jsxs)(u.Z,{sx:{scrollSnapAlign:"start"},children:[(0,l.jsx)(v.Z,{sx:{p:2,mb:.5,borderRadius:"0px",boxShadow:"none"},children:(0,l.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:3,children:[(0,l.jsxs)(g.Z,{children:[(0,l.jsx)(u.Z,{children:(0,l.jsx)(b.Z,{fontWeight:500,textTransform:"uppercase",children:null==i?void 0:i.type})}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(b.Z,{color:"grey",children:null==i?void 0:i.address})})]}),(0,l.jsx)(u.Z,{children:(0,l.jsx)(h.Z,{variant:"outlined",color:"dark",size:"small",children:"View"})})]})}),(0,l.jsx)(f.Z,{})]},e)))]})}),(0,l.jsx)(Z.ZP,{item:!0,md:6,children:(0,l.jsx)(s.Z,{data:r})})]})})})})})]})})]})},w=n(44267),_=n(72882),W=n(7906),C=n(53184),P=n(295),S=n(53816),D=n(53252),E=n(11163),A=()=>{var i,e,n,o,r;let d=(0,E.useRouter)(),{id:s}=d.query,[c,x]=(0,y.useState)([]),[p,j]=(0,y.useState)([]),[A,R]=(0,y.useState)(!1),z=async()=>{await a.Z.get("api/auth/jobs/view/".concat(s)).then(i=>{var e,n,l,o;(null==i?void 0:i.status)===200&&(x(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.view_data),j(null==i?void 0:null===(o=i.data)||void 0===o?void 0:null===(l=o.view_data)||void 0===l?void 0:null===(n=l.job)||void 0===n?void 0:n.ratings))}).catch(i=>{console.log("error",i)})};return y.useEffect(()=>{s&&z()},[s]),(0,l.jsx)(y.Fragment,{children:(0,l.jsx)(u.Z,{mt:10,pb:12,children:(0,l.jsx)(m.Z,{children:(0,l.jsxs)(u.Z,{my:4,children:[(0,l.jsxs)(h.Z,{variant:"outlined",sx:{my:2},onClick:()=>d.push("/dashboard/driver/job_request"),children:[(0,l.jsx)(t.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]}),(0,l.jsxs)(v.Z,{sx:{position:"relative"},children:[(0,l.jsx)(u.Z,{sx:{p:2},children:(0,l.jsxs)(Z.ZP,{container:!0,children:[(0,l.jsx)(Z.ZP,{item:!0,md:2,sm:12}),(0,l.jsx)(Z.ZP,{item:!0,md:8,sm:12,children:(0,l.jsx)(b.Z,{textAlign:"center",variant:"h6",my:1,fontSize:17,children:"Job Detail"})}),(0,l.jsx)(Z.ZP,{item:!0,md:2,sm:12,children:(0,l.jsx)(k,{id:s})})]})}),(0,l.jsx)(f.Z,{}),(0,l.jsxs)(w.Z,{children:[(0,l.jsx)(b.Z,{variant:"h4",component:"h4",textAlign:"center",children:null==c?void 0:null===(i=c.job)||void 0===i?void 0:i.name}),(0,l.jsxs)(g.Z,{direction:"row",justifyContent:"center",alignItems:"center",spacing:2,my:1,children:[(0,l.jsx)(b.Z,{component:"p",variant:"body2",fontWeight:500,children:"Vehicle Requirment:"}),(0,l.jsx)(b.Z,{component:"p",variant:"body2",fontWeight:600,children:null==c?void 0:null===(e=c.job)||void 0===e?void 0:e.vehicle})]}),(0,l.jsx)(f.Z,{sx:{my:4}}),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(b.Z,{component:"p",variant:"body1",fontWeight:500,textAlign:"center",mb:2,children:"Important Note"}),(0,l.jsx)(_.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.primary.main},children:(0,l.jsxs)(W.Z,{"aria-label":"simple table",sx:{minWidth:"100%"},children:[(0,l.jsx)(C.Z,{}),(0,l.jsx)(P.Z,{children:(null==c?void 0:c.pickup)&&(null==c?void 0:null===(n=c.pickup)||void 0===n?void 0:n.length)>0&&(null==c?void 0:c.pickup.map((i,e)=>{var n;return(0,l.jsx)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(n=i.item)||void 0===n?void 0:n.description})})},"jobDetail".concat(e))}))})]})})]}),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(b.Z,{component:"p",variant:"body1",fontWeight:500,textAlign:"center",mb:2,mt:2,children:"Pickup Details"}),(0,l.jsx)(_.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.primary.main},children:(0,l.jsxs)(W.Z,{"aria-label":"simple table",sx:{minWidth:"100%"},children:[(0,l.jsx)(C.Z,{children:(0,l.jsxs)(S.Z,{children:[(0,l.jsx)(D.Z,{align:"left",children:"Address"}),(0,l.jsx)(D.Z,{align:"left",children:"Pickup Date"}),(0,l.jsx)(D.Z,{align:"left",children:"Pickup Time"}),(0,l.jsx)(D.Z,{align:"left",children:"L*W*H"}),(0,l.jsx)(D.Z,{align:"left",children:"Quantity"}),(0,l.jsx)(D.Z,{align:"left",children:"Image"}),(0,l.jsx)(D.Z,{align:"left",children:"Material"})]})}),(0,l.jsx)(P.Z,{children:(null==c?void 0:c.pickup)&&(null==c?void 0:null===(o=c.pickup)||void 0===o?void 0:o.length)>0&&(null==c?void 0:c.pickup.map((i,e)=>{var n,o,r,d,t,s,a,c,h;return(0,l.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(D.Z,{component:"th",scope:"row",children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:i.address})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(n=i.item)||void 0===n?void 0:n.pickup_date})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(o=i.item)||void 0===o?void 0:o.pickup_time})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:"".concat(null==i?void 0:null===(r=i.item)||void 0===r?void 0:r.length," * ").concat(null==i?void 0:null===(d=i.item)||void 0===d?void 0:d.width," * ").concat(null==i?void 0:null===(t=i.item)||void 0===t?void 0:t.height)})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(s=i.item)||void 0===s?void 0:s.quantity})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(u.Z,{children:(0,l.jsx)(u.Z,{component:"img",m:"auto",src:"".concat(null==i?void 0:null===(a=i.item)||void 0===a?void 0:a.base_url).concat(null==i?void 0:null===(c=i.item)||void 0===c?void 0:c.image),width:80})})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(h=i.item)||void 0===h?void 0:h.material})})]},"jobDetail".concat(e))}))})]})})]}),(0,l.jsx)(f.Z,{sx:{my:4}}),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(b.Z,{component:"p",variant:"body1",fontWeight:500,textAlign:"center",mb:2,children:"Delivery Details"}),(0,l.jsx)(_.Z,{sx:{borderRadius:"10px",border:"1px solid",borderColor:i=>i.palette.primary.main},children:(0,l.jsxs)(W.Z,{"aria-label":"simple table",sx:{minWidth:"100%"},children:[(0,l.jsx)(C.Z,{children:(0,l.jsxs)(S.Z,{children:[(0,l.jsx)(D.Z,{align:"left",children:"Address"}),(0,l.jsx)(D.Z,{align:"left",children:"Delivery Date"}),(0,l.jsx)(D.Z,{align:"left",children:"Delivery Time"}),(0,l.jsx)(D.Z,{align:"left",children:"Quantity"})]})}),(0,l.jsx)(P.Z,{children:(null==c?void 0:c.drop)&&(null==c?void 0:null===(r=c.drop)||void 0===r?void 0:r.length)>0&&(null==c?void 0:c.drop.map((i,e)=>{var n,o,r;return(0,l.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,l.jsx)(D.Z,{component:"th",scope:"row",children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:i.address})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(n=i.item)||void 0===n?void 0:n.drop_date})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(o=i.item)||void 0===o?void 0:o.drop_time})}),(0,l.jsx)(D.Z,{children:(0,l.jsx)(b.Z,{component:"p",variant:"body2",children:null==i?void 0:null===(r=i.item)||void 0===r?void 0:r.quantity})})]},"jobDetail".concat(e))}))})]})})]})]})]})]})})})})},R=n(28482);let z=()=>{let i=(0,R.TA)({});return(0,l.jsxs)(o.Z,{children:[(0,l.jsx)(A,{formik:i}),(0,l.jsx)(r.Z,{})]})};z.getLayout=function(i){return(0,l.jsx)(d.l,{children:i})};var I=z}},function(i){i.O(0,[4885,1810,1255,678,3827,1994,6034,4815,8251,4576,659,5981,6107,5324,180,9774,2888,179],function(){return i(i.s=55909)}),_N_E=i.O()}]);