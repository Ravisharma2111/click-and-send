(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5381],{50594:function(e,i,n){"use strict";var r=n(64836);i.Z=void 0;var s=r(n(64938)),o=n(85893),t=(0,s.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");i.Z=t},41609:function(e,i,n){var r=n(280),s=n(64160),o=n(35694),t=n(1469),l=n(98612),a=n(44144),d=n(25726),c=n(36719),h=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(t(e)||"string"==typeof e||"function"==typeof e.splice||a(e)||c(e)||o(e)))return!e.length;var i=s(e);if("[object Map]"==i||"[object Set]"==i)return!e.size;if(d(e))return!r(e).length;for(var n in e)if(h.call(e,n))return!1;return!0}},83590:function(e,i,n){"use strict";n.d(i,{Z:function(){return p}});var r=n(85893),s=n(45697),o=n.n(s),t=n(67294),l=n(11163),a=n(21425),d=n(94717);n(26107);var c=n(50261),h=n(87357),u=n(46574);function p(e){let{children:i}=e,{isAuthenticated:n,isInitialized:s}=(0,a.E)(),{pathname:o,push:p}=(0,l.useRouter)(),[x,m]=(0,t.useState)(null);return((0,t.useEffect)(()=>{x&&o!==x&&p(x),n&&m(null)},[n,o,p,x]),s)?n?(0,r.jsxs)(r.Fragment,{children:[" ",i," "]}):(o!==x&&m(o),(0,r.jsx)(d.Z,{})):(0,r.jsx)(h.Z,{mt:10,children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(c.Z,{})})})}p.propTypes={children:o().node}},6049:function(e,i,n){"use strict";var r=n(85893),s=n(21425),o=n(64666),t=n(6514),l=n(51233),a=n(15861),d=n(67720),c=n(31425),h=n(69417),u=n(11163),p=n(67294);i.Z=e=>{var i,n;let{children:x}=e,{user:m}=(0,s.E)(),f=(0,u.useRouter)(),[j,w]=p.useState(!0),b=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return p.useEffect(()=>{b.includes(null==f?void 0:f.route)?w(!1):w(!0)},[null==f?void 0:f.route]),(0,r.jsx)("div",{children:(null==m?void 0:null===(i=m.plan)||void 0===i?void 0:i.plan_id)?(0,r.jsxs)(o.Z,{open:(null==m||null===(n=m.plan)||void 0===n||!n.plan_id)&&j,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,r.jsx)(t.Z,{dividers:"paper",children:(0,r.jsx)(l.Z,{textAlign:"left",mt:2,children:(0,r.jsx)(a.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,r.jsx)(d.Z,{}),(0,r.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,r.jsx)(h.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===f.route?f.push("company/subscription"):"/dashboard/driver/active_jobs"===f.route?f.push("subscription"):"/dashboard/customer"===f.route?f.push("/dashboard/customer/subscription"):"/driver/profile"===f.route?f.push("/dashboard/driver/subscription"):"/customer/profile"===f.route?f.push("/dashboard/customer/subscription"):"/company/profile"===f.route?f.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,r.jsx)(r.Fragment,{})})}},62561:function(e,i,n){"use strict";var r=n(85893),s=n(67294),o=n(79582),t=n(50261),l=n(63763),a=n(14862),d=n(50594),c=n(87357),h=n(46574),u=n(51233),p=n(86886),x=n(66242),m=n(44267),f=n(15861),j=n(93946),w=n(11994),b=n(69417),Z=n(64666),g=n(6514),v=n(78462),y=n(97212),C=n(48885),S=n(28482),_=n(11163),z=n(50841),k=n(46901),W=n(41609),F=n.n(W),P=n(38308);i.Z=e=>{var i,n,l,a;let{data:Z,formik:g,loader:v,Content:y=null}=e;console.log("formikss",g);let[C,S]=s.useState(!1),_=()=>{g.handleSubmit(),S(!1)};return(0,r.jsx)(s.Fragment,{children:(0,r.jsx)(c.Z,{sx:{backgroundColor:e=>e.palette.grey[300]},children:(0,r.jsx)(c.Z,{mt:8,pb:14,children:(0,r.jsx)(h.Z,{children:v?(0,r.jsx)(c.Z,{sx:{py:4},children:(0,r.jsx)(t.Z,{})}):(0,r.jsx)(u.Z,{alignItems:"center",spacing:4,py:4,children:(0,r.jsx)(p.ZP,{container:!0,justifyContent:"center",children:(0,r.jsx)(p.ZP,{item:!0,xs:12,sm:10,md:8,lg:8,children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(c.Z,{component:"form",noValidate:!0,onSubmit:g.handleSubmit,children:(0,r.jsxs)(x.Z,{sx:{borderRadius:"20px",boxShadow:0,position:"relative",background:e=>e.palette.common.white},children:[(0,r.jsx)(c.Z,{sx:{position:"absolute",top:0,left:0,right:0,zIndex:-1},children:(0,r.jsx)(c.Z,{component:"img",src:"/profile/profilebg.png",sx:{width:"100%",height:"100%",backgroundRepeat:"no-repeat",objectFit:"contain"}})}),(0,r.jsxs)(m.Z,{children:[(0,r.jsx)(c.Z,{py:2,style:{marginTop:"190px"},children:(0,r.jsx)(P.zC,{size:"small",fullWidth:!0,label:"User Name",name:"user_name",value:g.values.user_name,onChange:g.handleChange})}),(0,r.jsx)(u.Z,{direction:"row",spacing:8,width:"100%",children:(0,r.jsxs)(u.Z,{spacing:1,width:"100%",children:[(0,r.jsx)(c.Z,{children:(0,r.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"center",className:"flexDirection",children:[(0,r.jsx)(c.Z,{sx:{backgroundColor:"#FFEBE2",p:"8px"},height:"35px",width:"35px",borderRadius:"50%",component:"div",children:(0,r.jsx)(o.Z,{icon:"material-symbols:subscriptions-outline",width:18,color:e=>e.palette.primary.main})}),(0,r.jsx)(f.Z,{component:"body2",fontSize:15,children:(null==Z?void 0:Z.plan_name)||"N/A"})]})}),(0,r.jsx)(c.Z,{py:2,children:(0,r.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"center",className:"flexDirection",children:[(0,r.jsx)(c.Z,{sx:{backgroundColor:"#FFEBE2",p:"8px"},height:"35px",width:"35px",borderRadius:"50%",component:"div",children:(0,r.jsx)(o.Z,{icon:"tabler:mail",width:18,color:e=>e.palette.primary.main})}),(0,r.jsx)(f.Z,{component:"body2",fontSize:15,children:g.values.email||"N/A"})]})}),(0,r.jsx)(c.Z,{children:(0,r.jsxs)(u.Z,{direction:"row",spacing:2,alignItems:"center",className:"flexDirection",children:[(0,r.jsx)(c.Z,{sx:{backgroundColor:"#FFEBE2",p:"8px"},height:"35px",width:"35px",borderRadius:"50%",component:"div",children:(0,r.jsx)(o.Z,{icon:"material-symbols:call-outline",width:18,color:e=>e.palette.primary.main})}),(0,r.jsx)(f.Z,{component:"body2",fontSize:15,children:g.values.mobile||"N/A"})]})}),(0,r.jsx)(c.Z,{sx:{display:"flex !important",flexDirection:"row-reverse !important"},py:2,onSubmit:g.handleSubmit,children:(0,r.jsx)(P.Zw,{size:"small",fullWidth:!0,labelname:"Address",name:"address",value:null==g?void 0:null===(i=g.values)||void 0===i?void 0:i.address,onChange:e=>{g.setFieldValue("address",e)},onSelect:(e,i,n)=>{console.log("onSelect:",e,i,n),g.setFieldValue("address",e),g.setFieldValue("lat",i),g.setFieldValue("long",n)},endIcon:(0,r.jsx)(j.Z,{onClick:()=>g.setFieldValue("address",""),children:(0,r.jsx)(d.Z,{fontSize:"small"})})})}),(0,r.jsx)(w.Z,{open:C,onClose:_,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(c.Z,{sx:{position:"absolute",top:"50%",left:"50%",textAlign:"center",transform:"translate(-50%, -50%)",borderRadius:"10px",bgcolor:"background.paper",border:"1px solid #f5f5f5",boxShadow:24,p:4},className:"modal-box-address",children:[(0,r.jsx)(u.Z,{spacing:1,children:(0,r.jsx)(c.Z,{children:(0,r.jsx)(p.ZP,{item:!0,md:12,onSubmit:g.handleSubmit,children:(0,r.jsx)(P.Zw,{fullWidth:!0,size:"small",name:"address",labelName:"Address",value:g.values.address,onSelect:(e,i,n)=>{console.log("onSelect:",e,i,n),g.setFieldValue("address",e),g.setFieldValue("lat",i),g.setFieldValue("long",n)},onChange:g.handleChange,endIcon:(0,r.jsx)(j.Z,{onClick:()=>g.setFieldValue("address",""),children:(0,r.jsx)(d.Z,{fontSize:"small"})}),helperText:!F()(g.touched)&&(null==g?void 0:null===(n=g.errors)||void 0===n?void 0:n.items)&&(null==g?void 0:null===(a=g.errors)||void 0===a?void 0:null===(l=a.items[productIndex])||void 0===l?void 0:l.address[addressIndex].address)})})})}),(0,r.jsx)(u.Z,{direction:"row",mt:2,children:(0,r.jsx)(b.Z,{type:"submit",fullWidth:!0,variant:"outlined",onClick:_,children:"Update Address"})})]})}),y&&(0,r.jsx)(c.Z,{mt:2,sx:{width:"100%"},children:(0,r.jsx)(y,{})}),(0,r.jsxs)(u.Z,{direction:"row",width:"100%",spacing:2,children:[(0,r.jsx)(c.Z,{width:"100%",children:(0,r.jsx)(N,{})}),(0,r.jsx)(c.Z,{width:"100%",children:(0,r.jsx)(b.Z,{fullWidth:!0,variant:"contained",type:"submit",onClick:_,children:"Update Profile"})})]})]})})]})]})})})})})})})})})})};let N=()=>{var e,i,n;let{enqueueSnackbar:t}=(0,z.Ds)(),h=(0,_.useRouter)(),p=(0,S.TA)({initialValues:{password:"",new_password:"",new_password_confirmation:""},validate:e=>{let i={};return e.password||(i.password="Password is required"),e.new_password||(i.new_password="New password is required"),e.new_password_confirmation||(i.new_password_confirmation="Confirm password is required"),e.new_password_confirmation&&e.new_password&&e.new_password_confirmation!==e.new_password&&(i.new_password_confirmation="Confirm password didn't match with new password"),i},onSubmit:async(e,i)=>{let{setErrors:n}=i;await l.Z.post("api/auth/profile/change-password",e).then(e=>{if(200===e.status){var i;t((0,r.jsx)(k.Z,{style:{width:"100%",padding:"30px",backdropFilter:"blur(8px)",background:"#ff7533 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"success",children:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.message}),{variant:"success",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}}),W(),(0,a.qz)(),h.push("/auth/login")}}).catch(i=>{var s,o,l;let{response:a}=i;if(t((0,r.jsx)(k.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.error.new_password}),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),422===a.status)for(let[i,r]of Object.entries(e))n({[i]:a.data.error.new_password}),a.data.error[i]&&n({[i]:a.data.error.new_password});(null==a?void 0:null===(o=a.data)||void 0===o?void 0:o.status)===406&&t((0,r.jsx)(k.Z,{style:{width:"100%",padding:"30px",filter:blur("8px"),background:"#ffe9d5 ",fontSize:"19px",fontWeight:800,lineHeight:"30px"},icon:!1,severity:"error",children:null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.error}),{variant:"error",iconVariant:!0,anchorOrigin:{vertical:"top",horizontal:"center"}})})}}),[m,w]=s.useState(!1),W=()=>w(!1);return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(b.Z,{fullWidth:!0,variant:"outlined",startIcon:(0,r.jsx)(o.Z,{icon:"carbon:password"}),onClick:()=>w(!0),sx:{fontWeight:500,whiteSpace:"nowrap"},children:"Change Password"}),(0,r.jsx)(Z.Z,{open:m,onClose:W,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",fullWidth:!0,maxWidth:"xs",children:(0,r.jsx)(g.Z,{sx:{py:4,px:4},children:(0,r.jsxs)(c.Z,{component:"form",noValidate:!0,onSubmit:p.handleSubmit,children:[(0,r.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,r.jsx)(f.Z,{component:"h5",fontSize:25,fontWeight:600,children:"Change Password"}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(x.Z,{sx:{borderRadius:"20px",boxShadow:0,maxWidth:"700px",margin:"auto",position:"relative",backgroundColor:e=>e.palette.grey[400]},variant:"outlined",children:(0,r.jsx)(j.Z,{size:"small",onClick:()=>{W(),p.resetForm()},children:(0,r.jsx)(d.Z,{fontSize:"inherit"})})})})]}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(f.Z,{textAlign:"left",fontSize:12,children:"In order to protect your account, make sure your password:"})}),(0,r.jsx)(c.Z,{children:(0,r.jsxs)(v.Z,{children:[(0,r.jsxs)(y.ZP,{children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(o.Z,{icon:"radix-icons:dot-filled"})}),(0,r.jsxs)(f.Z,{fontSize:12,children:["Is longer than 6 characters"," "]})]}),(0,r.jsxs)(y.ZP,{children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(o.Z,{icon:"radix-icons:dot-filled"})}),(0,r.jsxs)(f.Z,{fontSize:12,children:["Does not match or significantly contain your username, e.g. do not use ","‘","username123","’","."]})]})]})}),(0,r.jsxs)(u.Z,{spacing:1,mt:1,children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(f.Z,{fontSize:14,textAlign:"left",fontWeight:600,mb:1,children:"Current Password"}),(0,r.jsx)(P.Jg,{fullWidth:!0,size:"small",name:"password",value:p.values.password,onChange:p.handleChange,placeholder:"Enter Current Password",helperText:null==p?void 0:null===(e=p.errors)||void 0===e?void 0:e.password})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(f.Z,{fontSize:14,textAlign:"left",fontWeight:600,mb:1,children:"New Password"}),(0,r.jsx)(P.Jg,{fullWidth:!0,size:"small",name:"new_password",value:p.values.new_password,onChange:p.handleChange,placeholder:"Enter New Password",helperText:null==p?void 0:null===(i=p.errors)||void 0===i?void 0:i.new_password})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(f.Z,{fontSize:14,textAlign:"left",fontWeight:600,mb:1,children:"Confirm New Password"}),(0,r.jsx)(P.Jg,{fullWidth:!0,size:"small",name:"new_password_confirmation",value:p.values.new_password_confirmation,onChange:p.handleChange,placeholder:"Enter Confirm Password",helperText:null==p?void 0:null===(n=p.errors)||void 0===n?void 0:n.new_password_confirmation})]})]}),(0,r.jsx)(u.Z,{direction:"row",mt:2,children:(0,r.jsx)(b.Z,{type:"submit",fullWidth:!0,variant:"contained",children:"Change Password"})})]})})})]})}}}]);