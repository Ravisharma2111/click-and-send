(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6297],{42400:function(e,r,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/company/track_job/[...slug]",function(){return i(69399)}])},6049:function(e,r,i){"use strict";var s=i(85893),o=i(21425),n=i(64666),t=i(6514),l=i(51233),a=i(15861),d=i(67720),c=i(31425),u=i(69417),h=i(11163),p=i(67294);r.Z=e=>{var r,i;let{children:x}=e,{user:b}=(0,o.E)(),j=(0,h.useRouter)(),[v,m]=p.useState(!0),f=["/dashboard/driver/subscription","/dashboard/company/subscription","/dashboard/customer/subscription"];return p.useEffect(()=>{f.includes(null==j?void 0:j.route)?m(!1):m(!0)},[null==j?void 0:j.route]),(0,s.jsx)("div",{children:(null==b?void 0:null===(r=b.plan)||void 0===r?void 0:r.plan_id)?(0,s.jsxs)(n.Z,{open:(null==b||null===(i=b.plan)||void 0===i||!i.plan_id)&&v,components:"form",scroll:"paper","aria-describedby":"alert-dialog-slide-description",sx:{"&.MuiDialog-root":{zIndex:100},"& .MuiPaper-rounded":{borderRadius:"0px"},"& .MuiBackdrop-root":{backgroundColor:"#f2f2f2"}},maxWidth:"xs",children:[(0,s.jsx)(t.Z,{dividers:"paper",children:(0,s.jsx)(l.Z,{textAlign:"left",mt:2,children:(0,s.jsx)(a.Z,{variant:"h5",fontWeight:500,sx:{cursor:"pointer",fontSize:"16px",fontWeight:500},children:"Please Subscribe to Access this Page"})})}),(0,s.jsx)(d.Z,{}),(0,s.jsx)(c.Z,{sx:{justifyContent:"center"},children:(0,s.jsx)(u.Z,{variant:"contained",color:"primary",type:"submit",onClick:()=>"/dashboard/company"===j.route?j.push("company/subscription"):"/dashboard/driver/active_jobs"===j.route?j.push("subscription"):"/dashboard/customer"===j.route?j.push("/dashboard/customer/subscription"):"/driver/profile"===j.route?j.push("/dashboard/driver/subscription"):"/customer/profile"===j.route?j.push("/dashboard/customer/subscription"):"/company/profile"===j.route?j.push("/dashboard/company/subscription"):"",children:"Subscribe Now"})})]}):(0,s.jsx)(s.Fragment,{})})}},69399:function(e,r,i){"use strict";i.r(r);var s=i(85893),o=i(83590),n=i(6049),t=i(26107),l=i(58892),a=i(28482);let d=()=>{let e=(0,a.TA)({initialValues:{}});return(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(l.Z,{formik:e}),(0,s.jsx)(n.Z,{})]})};d.getLayout=function(e){return(0,s.jsx)(t.l,{children:e})},r.default=d},58892:function(e,r,i){"use strict";var s=i(85893),o=i(21425),n=i(79582),t=i(15481),l=i(63763),a=i(87357),d=i(46574),c=i(69417),u=i(86886),h=i(66242),p=i(15861),x=i(67720),b=i(51233),j=i(11163),v=i(67294);r.Z=()=>{let e=(0,j.useRouter)(),{query:r}=(0,j.useRouter)(),{slug:i}=r,[m,f,Z]=i,{user:g}=(0,o.E)(),[y,_]=(0,v.useState)([]),[w,k]=v.useState([]),E={bid_id:m,user_id:Z,job_id:f},P=async()=>{await l.Z.post("api/auth/jobs/track-job",E).then(e=>{if(200===e.status){var r;_(e.data.view_data&&(null===(r=e.data.view_data)||void 0===r?void 0:r.length)>0?e.data.view_data:[])}}).catch(e=>console.log(e))};return(0,v.useEffect)(()=>{m&&f&&Z&&P()},[m,f,Z]),console.log("queryquery",r),v.useEffect(()=>{let e=[],r=[];y&&(null==y?void 0:y.length)>0&&y.forEach(i=>{i.forEach((i,s)=>{(null==i?void 0:i.type)=="drop"?e[s]={from:{lat:null==i?void 0:i.lat,lng:null==i?void 0:i.long}}:(null==i?void 0:i.type)=="pickup"&&(e[s-1]={from:{...e[s-1].from},to:{lat:null==i?void 0:i.lat,lng:null==i?void 0:i.long}},r.push(...e))})}),k(r)},[y,null==y?void 0:y.length]),(0,s.jsx)(v.Fragment,{children:(0,s.jsx)(a.Z,{py:12,children:(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(a.Z,{my:1,children:(0,s.jsxs)(c.Z,{variant:"outlined",sx:{my:0},onClick:()=>e.push("/dashboard/company/active_jobs"),children:[(0,s.jsx)(n.Z,{icon:"ion:play-back",sx:{mr:"7px"},width:14}),"Back"]})}),(0,s.jsx)(a.Z,{sx:{position:"relative",overflow:"hidden"},children:(0,s.jsxs)(u.ZP,{container:!0,children:[(0,s.jsx)(u.ZP,{item:!0,md:6,children:(0,s.jsxs)(h.Z,{sx:{position:"relative",pr:0,py:0,maxHeight:"92vh",overflowY:"scroll",height:"100%",borderRadius:"0px"},children:[(0,s.jsxs)(a.Z,{sx:{my:0,ml:0,position:"sticky",top:0,zIndex:1200,background:e=>e.palette.common.white},children:[(0,s.jsx)(p.Z,{component:"h3",variant:"h3",sx:{py:1},color:"primary",children:"Track Job"}),(0,s.jsx)(x.Z,{})]}),y.length>0&&y&&y.map(e=>e&&(null==e?void 0:e.length)>0&&e.map((e,r)=>(0,s.jsxs)(a.Z,{sx:{scrollSnapAlign:"start"},children:[(0,s.jsx)(h.Z,{sx:{p:2,mb:.5,borderRadius:"0px",boxShadow:"none"},children:(0,s.jsxs)(b.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",spacing:3,children:[(0,s.jsxs)(b.Z,{children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(p.Z,{fontWeight:500,textTransform:"uppercase",children:null==e?void 0:e.type})}),(0,s.jsx)(a.Z,{children:(0,s.jsx)(p.Z,{color:"grey",children:null==e?void 0:e.address})})]}),(0,s.jsx)(a.Z,{children:(0,s.jsx)(c.Z,{variant:"outlined",color:"dark",size:"small",children:"View"})})]})}),(0,s.jsx)(x.Z,{})]},r)))]})}),(0,s.jsx)(u.ZP,{item:!0,md:6,children:(0,s.jsx)(t.Z,{data:w})})]})})]})})})}}},function(e){e.O(0,[4885,1810,1255,678,3827,1994,6034,4815,8251,4576,5981,6107,5324,180,9774,2888,179],function(){return e(e.s=42400)}),_N_E=e.O()}]);